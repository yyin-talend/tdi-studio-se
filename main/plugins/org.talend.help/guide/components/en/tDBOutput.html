<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tDBOutput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-databases-other.html" title="Chapter&nbsp;9.&nbsp;Databases - other components"><link rel="prev" href="tDBInput.html" title="tDBInput"><link rel="next" href="tDBSQLRow.html" title="tDBSQLRow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tDBOutput</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tDBInput.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;9.&nbsp;Databases - other components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tDBSQLRow.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tDBOutput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tDBOutput"></a>tDBOutput</h2></div></div></div><div class="mediaobject"><img src="../images/tDBOutput_icon32_white.png"></div><div class="section" title="tDBOutput properties"><div class="titlepage"><div><div><h3 class="title"><a name="Raa82909"></a>tDBOutput properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Databases/DB Generic</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tDBOutput</strong></span> writes, updates, makes
								changes or suppresses entries in a database. </p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>To use this component, relevant DBMSs' ODBC drivers should be
									installed and the corresponding ODBC connections should be
									configured via the database connection configuration
									wizard.</p></div>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tDBOutput</strong></span> executes the action
								defined on the data in a table, based on the flow incoming from the
								preceding component in the Job. </p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Specific Output component should always be preferred to
									generic component.</p></div>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Property type</em></span>
							</p>
						</td><td valign="top">
							<p><span>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
								centrally.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: Select the repository
								file in which the properties are stored. The fields that follow are
								completed automatically using the data retrieved.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<div class="mediaobject"><img src="../images/Save_Icon.png"></div>
						</td><td valign="top">
							<p>Click this icon to open the database connection configuration
								wizard and store the database connection parameters you set in the
								component <span class="emphasis"><strong>Basic settings
								</strong></span>view.</p>
							<p> For more information about setting up and storing database
								connection parameters, see <span class="emphasis"><em>Talend Open Studio User
									Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Database</em></span>
							</p>
						</td><td valign="top">
							<p>Name of the data source defined via the database connection
								configuration wizard.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Username</em></span> and
								<span class="emphasis"><em>Password</em></span></p>
						</td><td valign="top">
							<p>DB user authentication data.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Table</em></span>
							</p>
						</td><td valign="top">
							<p>Name of the table to be written. Note that only one table can be
								written at a time</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Action on data</em></span>
							</p>
						</td><td valign="top">
							<p>On the data of the table defined, you can perform:</p>
							<p>
								<span class="emphasis"><strong>Insert</strong></span>: Add new entries to the
								table. If duplicates are found, Job stops.</p>
							<p>
								<span class="emphasis"><strong>Update</strong></span>: Make changes to existing
								entries</p>
							<p><span class="emphasis"><strong>Insert or update</strong></span>: inserts a new record.
		If the record with the given reference already exists, an update would be made.</p>
							<p>
		<span class="emphasis"><strong>Update or insert</strong></span>: updates the record with the given
		reference. If the record does not exist, a new record would be
		inserted.</p>
							<p>
								<span class="emphasis"><strong>Delete</strong></span>: Remove entries
								corresponding to the input flow.</p>
							<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
									<span class="emphasis"><em> It is necessary to specify at least one
										column as a primary key on which the <span class="emphasis"><strong>Update</strong></span> and <span class="emphasis"><strong>Delete</strong></span> operations are based. You can do that
										by clicking <span class="emphasis"><strong>Edit Schema</strong></span> and
										selecting the check box(es) next to the column(s) you want
										to set as primary key(s). For an advanced use, click the
											<span class="emphasis"><strong>Advanced settings</strong></span> view
										where you can simultaneously define primary keys for the
											<span class="emphasis"><strong>Update</strong></span> and <span class="emphasis"><strong>Delete</strong></span> operations. To do that:
										Select the Use field options check box and then in the
											<span class="emphasis"><strong>Key in update</strong></span> column,
										select the check boxes next to the column names you want to
										use as a base for the <span class="emphasis"><strong>Update</strong></span> operation. Do the same in the
											<span class="emphasis"><strong>Key in delete</strong></span> column
										for the <span class="emphasis"><strong>Delete</strong></span> operation.
									</em></span>
								</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Clear data in table</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to delete data in the selected table before
								any operation.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of
								fields to be processed and passed on to the next component. <span>The schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in the
										<span class="emphasis"><strong>Repository</strong></span></span>. </p>
							<p> </p>
							
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: The schema is created
								and stored locally for this component only. Related topic: see
										<span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: The schema already
								exists and is stored in the Repository, hence can be reused. Related
								topic: see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Die on error</em></span>
							</p>
						</td><td valign="top">
							<p>This check box is selected by default. Clear the check box to skip
								the row on error and complete the process for error-free rows. If
								needed, you can retrieve the rows on error via a <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Rejects</strong></span> link.</p>
						</td></tr><tr><td valign="top">
							<p><a name="Xaa3627545"></a>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Commit every</em></span>
							</p>
						</td><td valign="top">
							<p>Enter the number of rows to be completed before committing batches
								of rows together into the DB. This option ensures transaction
								quality (but not rollback) and, above all, better performance at
								execution.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Additional Columns</em></span>
							</p>
						</td><td valign="top">
							<p>This option is not offered if you create (with or without drop)
								the DB table. This option allows you to call SQL functions to
								perform actions on columns, which are not insert, nor update or
								delete actions, or action that require particular preprocessing.
							</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Name:</strong></span> Type in the name of the
								schema column to be altered or inserted as new column</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>SQL expression:</strong></span> Type in the SQL
								statement to be executed in order to alter or insert the relevant
								column data.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Position:</strong></span> Select <span class="emphasis"><strong>Before</strong></span>, <span class="emphasis"><strong>Replace</strong></span> or <span class="emphasis"><strong>After</strong></span>
								depending on the action to be performed on the reference
								column.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Reference column:</strong></span> Type in a
								column of reference that the <span class="emphasis"><strong>tDBOutput</strong></span> can use to place or replace the new or
								altered column.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use field options</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to customize a request, especially when
								there is double action on data.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Enable debug mode</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to display each step during processing
								entries in a database.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use java.sql.Statement</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to use the <code class="code">Statement</code> object in
								case the <code class="code">PreparedStatement</code> object is not supported by
								certain DBMSs.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to collect log data at the component
								level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component offers the flexibility benefit of the DB query and
								covers all of the SQL queries possible.</p>
							<p>This component must be used as an output component. It allows you
								to carry out actions on the data of a table in a database. It also
								allows you to create a reject flow using a <span class="emphasis"><strong>Row
									&gt; Rejects</strong></span> link to filter data in error. For a
								related scenario, see <a class="xref" href="tMysqlOutput.html#Raa73790" title="Scenario&nbsp;3: Retrieve data in error with a Reject link">the section called &#8220;Scenario&nbsp;3: Retrieve data in error with a Reject link&#8221;</a>.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario: Writing a row to a table in the MySql database via an ODBC connection"><div class="titlepage"><div><div><h3 class="title"><a name="Raa47355"></a>Scenario: Writing a row to a table in the MySql database via an ODBC
			connection</h3></div></div></div><p>This scenario clears the data in a table of a MySql database first and then adds a row
			to it.</p><p>The table, named <span class="emphasis"><em>Date</em></span>, contains one column called
				<span class="emphasis"><em>date</em></span> with the type being date.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
				<span class="emphasis"><em>As a prerequisite of this Job, the MySQL ODBC driver must
					have been installed and the corresponding ODBC connection must have been
					configured.</em></span>
			</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop <span class="emphasis"><strong>tDBOutput</strong></span> and <span class="emphasis"><strong>tRowGenerator</strong></span> from the <span class="emphasis"><strong>Palette</strong></span>
					to the design workspace.</p></li><li class="step" title="Step 2"><p>Connect the components using a <span class="emphasis"><strong>Row</strong></span> &gt;
						<span class="emphasis"><strong>Main</strong></span> link.</p><div class="mediaobject"><img src="../images/use_case_tdboutput_1.png"></div></li><li class="step" title="Step 3"><p> Double-click <span class="emphasis"><strong>tRowGenerator</strong></span> to open its
						<span class="emphasis"><strong>Schema editor</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tdboutput_2.png"></div></li><li class="step" title="Step 4"><p>Click the <span class="emphasis"><strong>[+]</strong></span> button to add a line. </p><p>Enter <span class="emphasis"><em>date</em></span> as the column name.</p><p>Select <span class="emphasis"><em>Date</em></span> from the data type list.</p><p>Select <span class="emphasis"><em>getCurrentDate</em></span> from the <span class="emphasis"><strong>Functions</strong></span> list.</p><p>Enter <span class="emphasis"><em>1</em></span> in the <span class="emphasis"><strong>Number
						of Rows for RowGenerator</strong></span> field as only one row will be added to
					the table. </p><p>Click <span class="emphasis"><strong>OK</strong></span> to close the editor and propagate
					the schema changes to <span class="emphasis"><strong>tDBOutput</strong></span>
					subsequently.</p></li><li class="step" title="Step 5"><p>Double-click <span class="emphasis"><strong>tDBOutput</strong></span> to open its <span class="emphasis"><strong>Basic settings</strong></span> view in the <span class="emphasis"><strong>Component</strong></span> tab.</p><div class="mediaobject"><img src="../images/use_case_tdboutput_3.png"></div></li><li class="step" title="Step 6"><p>In the <span class="emphasis"><strong>Database</strong></span> field, enter the name of the
					data source defined during the configuration of the MySql ODBC connection. </p><p>To configure an ODBC connection, click <span class="inlinemediaobject"><img src="../images/Save_Icon.png"></span> to open the database connection configuration
					wizard.</p></li><li class="step" title="Step 7"><p>In the <span class="emphasis"><strong>Username</strong></span> and <span class="emphasis"><strong>Password</strong></span> fields, enter the database authentication
					credentials.</p></li><li class="step" title="Step 8"><p>In the <span class="emphasis"><strong>Table</strong></span> field, enter the table name,
						<span class="emphasis"><em>Date</em></span> in this example.</p></li><li class="step" title="Step 9"><p>In the <span class="emphasis"><strong>Action on data</strong></span> field, select <span class="emphasis"><em>Insert</em></span> to insert a line to the table.</p></li><li class="step" title="Step 10"><p>Select the check box <span class="emphasis"><strong>Clear data in table</strong></span> to
					clear the table before the insertion.</p></li><li class="step" title="Step 11"><p>Save the Job and press <span class="emphasis"><strong>F6</strong></span> to run.</p><div class="mediaobject"><img src="../images/use_case_tdboutput_4.png"></div><p>As shown above, the table now has only one line about the current date and
					time.</p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tDBInput.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-databases-other.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tDBSQLRow.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tDBInput&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tDBSQLRow</td></tr></table></div></body></html>