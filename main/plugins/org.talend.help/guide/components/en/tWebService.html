<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tWebService</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-internet.html" title="Chapter&nbsp;14.&nbsp;Internet components"><link rel="prev" href="tSOAP.html" title="tSOAP"><link rel="next" href="tWebServiceInput.html" title="tWebServiceInput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tWebService</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tSOAP.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;14.&nbsp;Internet components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tWebServiceInput.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tWebService"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tWebService"></a>tWebService</h2></div></div></div><div class="mediaobject"><img src="../images/tWebServiceRow_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
                        <span class="emphasis"><em>This component requires an Oracle JDK to be functional.</em></span>
                </p></div><div class="section" title="tWebService properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e250939"></a>tWebService properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Component family</strong></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Internet </p>
                                                </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Function</strong></span>
                                                  </p>
                                                </td><td colspan="2" valign="top">
                                                  <p><span class="emphasis"><strong>tWebservice</strong></span>
                                                  calls the defined method from the invoked Web
                                                  service and returns the class as defined, based on
                                                  the given parameters.</p>
                                                </td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Purpose</strong></span>
                                                  </p>
                                                </td><td colspan="2" valign="top">
                                                  <p>This component calls a method via a Web
                                                  service in order to retrieve the values of the
                                                  parameters defined in the component editor.</p>
                                                </td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Basic settings</strong></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Property type</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Either<span class="emphasis"><strong>
                                                  Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span>.</p>
                                                  <p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p><span class="emphasis"><strong>Built-in</strong></span>:
                                                  No property data stored centrally. Enter
                                                  properties manually</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p><span class="emphasis"><strong>Repository</strong></span>:
                                                  Select the repository file where properties are
                                                  stored. The fields that come after are pre-filled
                                                  in using the fetched data.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Service configuration</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Click the three-dot button next to the field
                                                  to open the component editor. </p>
                                                  <p> In this editor, you can:</p>
                                                  <p> -select the Web service you want to
                                                  use,</p>
                                                  <p> -configure the input parameters of the Web
                                                  service,</p>
                                                  <p> -configure the output parameters of the Web
                                                  service. These parameters will be used to retrieve
                                                  and output specific data.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Mapping links display as</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p><span class="emphasis"><strong>Auto</strong></span>: By
                                                  default, the links between the input and output
                                                  schemas and the Web service parameters are in the
                                                  form of curves.</p>
                                                  <p>
                                                  <span class="emphasis"><strong>Curves</strong></span>: Links
                                                  between the schema and the Web service parameters
                                                  are in the form of curve.</p>
                                                  <p>
                                                  <span class="emphasis"><strong>Lines</strong></span>: Links
                                                  between the schema and the Web service parameters
                                                  are in the form of straight lines. This option
                                                  slightly optimizes performance.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Connection Time out</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Set a value in seconds for Web service
                                                  connection time out.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Receive Time out</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Set a value in seconds for server
                                                  answer.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Input schema</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>A schema is a row description, i.e., it
                                                  defines the number of fields that will be
                                                  processed and passed on to the next component. The
                                                  schema is either built-in or remote in the
                                                  Repository. This field is used to process the
                                                  input schema. The option for this schema may
                                                  be</p>
                                                  <p> - <span class="emphasis"><strong>Built-in</strong></span>: No property data stored
                                                  centrally.</p>
                                                  <p> - <span class="emphasis"><strong>Repository</strong></span>: Select the Repository file
                                                  where properties are stored. The following fields
                                                  are pre-filled in using fetched data.</p>
                                                  <p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Edit Schema</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Click the three-dot button to make changes
                                                  to the schema. Note that if you make changes, the
                                                  schema automatically becomes built-in.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Sync columns</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>This button is available when an input link
                                                  has been created. Click this button to retrieve
                                                  the schema from the previous component connected
                                                  in the Job.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Output schema</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>This field is used to process the output
                                                  schema. The schema is either built-in or remote in
                                                  the Repository and is configured the same way as
                                                  the input schema is.</p>
                                                  <p> </p>
                                                  <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
                                                  <span class="emphasis"><em>The input schema is not necessarily
                                                  identical with the output schema.</em></span>
                                                  </p></div>
                                                  <p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Use NTLM</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box if you want to use the
                                                  NTLM authentication protocol.</p>
                                                  <p>
                                                  <span class="emphasis"><strong>Domain</strong></span>: Name of
                                                  the client domain,</p>
                                                  <p>
                                                  <span class="emphasis"><strong>Host</strong></span>: Client IP
                                                  address.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Need authentication</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box and enter a username
                                                  and a password in the corresponding fields if this
                                                  is necessary to access the service.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Use http proxy</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box if you are using a
                                                  proxy server and fill in the necessary
                                                  information.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Trust server with SSL</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box to validate the server
                                                  certificate to the client via an SSL protocol and
                                                  fill in the corresponding fields:</p>
                                                  <p>
                                                  <span class="emphasis"><strong>TrustStore file</strong></span>:
                                                  enter the path (including filename) to the
                                                  certificate TrustStore file that contains the list
                                                  of certificates that the client trusts.</p>
                                                  <p>
                                                  <span class="emphasis"><strong>TrustStore
                                                  password</strong></span>: enter the password used to
                                                  check the integrity of the TrustStore data.
                                                  </p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Die on error</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Clear this check box to skip the rows in
                                                  error and to complete the process for the error
                                                  free rows.</p>
                                                </td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Advanced settings</strong></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Temporary folder (for
                                                  wsdl2java)</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Set or browse to a temporary folder that you
                                                  configured in order to store the wsdl
                                                  files.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>tStatCatcher Statistics</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box to gather the Job
                                                  processing metadata at a Job level as well as at
                                                  each component level.</p>
                                                </td></tr><tr><td>
                                                  <p>&nbsp;</p>
                                                </td><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><em>Enable parallel execution</em></span>
                                                  </p>
                                                </td><td valign="top">
                                                  <p>Select this check box to perform high-speed
                                                  data processing, that is treating multiple data
                                                  flows simultaneously.</p>
                                                  <p> For further information, see <span class="emphasis"><em>Talend Open Studio
                                                  User Guide</em></span>. </p>
                                                </td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Usage</strong></span>
                                                  </p>
                                                </td><td colspan="2" valign="top">
                                                  <p>This component can be used as an input or as
                                                  an intermediate component. It must be linked to an
                                                  output component.</p>
                                                </td></tr><tr><td valign="top">
                                                  <p>
                                                  <span class="emphasis"><strong>Limitation</strong></span>
                                                  </p>
                                                </td><td colspan="2" valign="top">
                                                  <p>A JDK is required for this component to
                                                  operate.</p>
                                                </td></tr></tbody></table></div></div><div class="section" title="Scenario: Extracting a name list using a Web service"><div class="titlepage"><div><div><h3 class="title"><a name="d0e251497"></a>Scenario: Extracting a name list using a Web service</h3></div></div></div><p>This scenario describes a three-component Job that uses a Web service to
                        retrieve a list of all of the defenders who play for the football team of a
                        defined country. </p><p>You can also call a Job exported as a Web service. For more information, see
                                <a class="xref" href="tBufferOutput.html#Raa69313" title="Scenario 2: Buffering output data on the webapp server">the section called &#8220;Scenario 2: Buffering output data on the webapp server&#8221;</a> and <a class="xref" href="tBufferOutput.html#nwang-20120418-misc_components-tbufferoutput_s4" title="Scenario 4: Calling a Job exported as Webservice in another Job">the section called &#8220;Scenario 4: Calling a Job exported as Webservice in another Job&#8221;</a>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace:
                                                <span class="emphasis"><strong>tFixedFlowInput</strong></span>,
                                                <span class="emphasis"><strong>tWebService</strong></span>, and
                                                <span class="emphasis"><strong>tLogRow</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Connect the components together using <span class="emphasis"><strong>Main Row</strong></span> links.</p></li><li class="listitem"><p>Double-click <span class="emphasis"><strong>tFixedFlowInput</strong></span>
                                        to open its <span class="emphasis"><strong>Basic settings</strong></span>
                                        view and define the component properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click the three-dot button next to the <span class="emphasis"><strong>Edit schema</strong></span> field to open a dialog box
                                        where you can define the input schema.</p></li><li class="listitem"><p>In the open dialog box, click the plus button to add a column
                                        to the schema.</p></li><li class="listitem"><p>Click in the column and type in a name,
                                                <span class="emphasis"><em>Country</em></span> in this example.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>OK </strong></span>to close the schema
                                        definition dialog box. The <span class="emphasis"><em>Country</em></span>
                                        column displays in the <span class="emphasis"><strong>Values</strong></span> table in the component <span class="emphasis"><strong>Basic settings</strong></span> view.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Values</strong></span> table, click in
                                        the <span class="emphasis"><strong>Value</strong></span> column and enter
                                        the value of the <span class="emphasis"><em>Country</em></span> column,
                                                <span class="emphasis"><em>ITALY </em></span>in this example. This
                                        will retrieve the list of defenders of the Italian football
                                        team.</p></li><li class="listitem"><p>Double-click <span class="emphasis"><strong>tWebService</strong></span> to
                                        open the component editor, or select the component in the
                                        design workspace and in the <span class="emphasis"><strong>Basic
                                                settings</strong></span> view, click the three-dot button
                                        next to <span class="emphasis"><strong>Service
                                                configuration</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Connect to the Web service you want to use in the Job.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>WSDL</strong></span> field, enter the
                                        Web service address or browse to it, if the WSDL is locally
                                        stored, by clicking the <span class="emphasis"><strong>[Browse...]</strong></span> button.</p></li><li class="listitem"><p>Click the refresh button next to the <span class="emphasis"><strong>WSDL</strong></span> filed to retrieve the WSDL
                                        description and display it in the fields that follow.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Port Name</strong></span> list, select
                                        the port you want to use, <span class="emphasis"><strong>FootballPoolWebServiceSoap</strong></span> in this
                                        example.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Operation</strong></span> list, select
                                        the service you want to use. In this example the selected
                                        service is <span class="emphasis"><strong>AllDefenders(parameters):ArrayOfString</strong></span>
                                        .</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>Next</strong></span> to open a new view
                                        in the editor.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService4.png"></div><p>In the panel to the right of the <span class="emphasis"><strong>Input
                                mapping</strong></span> view, the input parameter of the service displays
                        automatically. However, you can add other parameters if you select <span class="emphasis"><strong>[+] parameters</strong></span> and then click the plus button
                        on top to display the <span class="emphasis"><strong>[Parameter Tree]</strong></span>
                        dialog box where you can select any of the listed parameters. </p><p>The Web service in this example has only one input parameter, <span class="emphasis"><strong>sCountryName</strong></span>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If available, use the <span class="emphasis"><strong>Auto map!</strong></span>
                                button, located at the bottom left of the interface, to carry out
                                the mapping operation automatically.</p></div><p>You now need to create a connection between the input schema and the input
                        parameter of the defined Web service. To do so:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>Column</strong></span> list, drag the
                                        column in the input schema you want to link to the input
                                        parameter of the Web service to the corresponding parameter
                                        in the panel to the right.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>Next </strong></span>to open a new view
                                        in the editor.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService7.png"></div><p>In the <span class="emphasis"><strong>Element</strong></span> list to the left of the view,
                        the output parameter of the web service displays automatically. However, you
                        can add other parameters if you select <span class="emphasis"><strong>[+]
                                parameters</strong></span> and then click the plus button on top to
                        display the <span class="emphasis"><strong>[Parameter Tree]</strong></span> dialog box
                        where you can select any of the parameters listed.</p><p>The Web service in this example has only one output parameter: <span class="emphasis"><strong>AllDefendersResult.string</strong></span>.</p><p>You now need to create a connection between the output parameter of the
                        defined Web service and the schema of the output component. To do so:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the panel to the right of the view, click the three-dot
                                        button next to <span class="emphasis"><strong>Edit Schema</strong></span>
                                        to open a dialog box in which you can define the output
                                        schema.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="emphasis"><strong>Output</strong></span> list to the
                                        right of the dialog box, click the plus button to add a
                                        column to the output schema.</p></li><li class="listitem"><p>Click in the column and type in a name,
                                                <span class="emphasis"><em>Name</em></span> in this example. This will
                                        retrieve the names of the defenders.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>OK</strong></span> to validate your
                                        changes and to close the schema definition dialog
                                        box.</p></li><li class="listitem"><p>In the <span class="emphasis"><strong>Element</strong></span> list to the
                                        right of the editor, drag <span class="emphasis"><strong>parameters.AllDefendersResult.string</strong></span> to
                                        the field that corresponds to the <span class="emphasis"><strong>Name</strong></span> column to the right of the
                                        editor.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tWebService5.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If available, use the <span class="emphasis"><strong>Auto map!</strong></span>
                                button, located at the bottom left of the interface, to carry out
                                the mapping operation automatically.</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select this row in the panel to the right and click <span class="emphasis"><strong>Denormalize</strong></span> in order to
                                        denormalize the returned data.</p></li><li class="listitem"><p>Add <code class="code">[*]</code> after the parameter in order to have the
                                        following code:
                                                <code class="code">denormalize(parameters.AllDefendersResult.string[*],&#8221;:&#8221;)</code>.
                                        This will retrieve all data separated by a colon
                                                <code class="code">&#8220;:&#8221;</code>.</p></li><li class="listitem"><p> Click <span class="emphasis"><strong>OK</strong></span> to validate your
                                        changes and to close the editor.</p></li><li class="listitem"><p>In the design workspace, double-click <span class="emphasis"><strong>tLogRow</strong></span> to open its <span class="emphasis"><strong>Basic settings</strong></span> view and
                                        define its properties.</p></li><li class="listitem"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to
                                        retrieve the schema from the preceding component.</p></li><li class="listitem"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to
                                        execute it.</p></li></ul></div><p>The names of all defenders of the Italian football team are returned and
                        displayed in the console of <span class="emphasis"><em>Talend Open Studio</em></span>.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tSOAP.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-internet.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tWebServiceInput.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tSOAP&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tWebServiceInput</td></tr></table></div></body></html>