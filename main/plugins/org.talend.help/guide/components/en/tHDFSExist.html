<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tHDFSExist</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tdi-components-rg-en..html" title="Talend Components"><link rel="up" href="ch-bigdata.html" title="Chapter&nbsp;1.&nbsp;Big Data components"><link rel="prev" href="tHDFSDelete.html" title="tHDFSDelete"><link rel="next" href="tHDFSGet.html" title="tHDFSGet"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tHDFSExist</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tHDFSDelete.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Big Data components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tHDFSGet.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tHDFSExist"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tHDFSExist"></a>tHDFSExist</h2></div></div></div><div class="mediaobject"><img src="../images/thdfsexist_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This component will be available in the <span class="emphasis"><strong>Palette</strong></span> of the studio on the condition that you have subscribed to
		the relevant edition of <span class="emphasis"><em>Talend Big Data Studio</em></span>.</p></div><div class="section" title="tHDFSExist properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11651"></a>tHDFSExist properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Big Data/File</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component checks whether a file exists in a specific
								directory in HDFS.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component checks the existence of a specific file in
								HDFS.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
		<span class="emphasis"><em>Use an existing connection</em></span>
	</p>
						</td><td valign="top">
							<p>Select this check box and in the <span class="emphasis"><strong>Component List</strong></span> click the
		relevant connection component to reuse the connection details you already defined.</p>
							<p> </p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When a Job contains the parent Job and the child Job, <span class="emphasis"><strong>Component
				list</strong></span> presents only the connection components in the same Job level.</p></div>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><em>Version</em></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Distribution</em></span>
							</p>
						</td><td valign="top">
							<p>Select the product you are using as the Hadoop distribution from the drop-down list. </p>
							<p>The options in the list vary depending on the component you are using.</p>
						</td></tr><tr><td>&nbsp;</td><td valign="top">
							<p>
								<span class="emphasis"><em>Hadoop version</em></span>
							</p>
						</td><td valign="top">
							<p>Select the version of the Hadoop distribution you are using.</p>
						</td></tr><tr><td>
							<p>&nbsp;<span class="emphasis"><em>Connection</em></span></p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>NameNode URI</em></span>
							</p>
						</td><td valign="top">
							<p>Type in the URI of the Hadoop NameNode.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>User name</em></span>
							</p>
						</td><td>
							<p>Enter the user authentication name of HDFS.</p>
						</td></tr><tr><td>&nbsp;</td><td valign="top">
							<p>
								<span class="emphasis"><em>Group</em></span>
							</p>
						</td><td valign="top">
							<p>Enter the membership including the authentication user under which
		the HDFS instances were started. This field is available depending
		on the distribution you are using.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use kerberos authentication</em></span>
							</p>
						</td><td valign="top">
							<p>If you are accessing the Hadoop cluster running with Kerberos security, select this check
		box, then, enter the Kerberos principal name for the NameNode in the field displayed. This
		enables you to use your user name to authenticate against the credentials stored in
		Kerberos.</p>
							<p>This check box is available depending on the Hadoop distribution you are connecting
		to.</p>
						</td></tr><tr><td valign="top"> </td><td valign="top">
							<p>
								<span class="emphasis"><em>HDFS directory</em></span>
							</p>
						</td><td valign="top">
							<p>Browse to, or enter the directory in HDFS where the data you need to use is.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>File name or relative path</em></span>
							</p>
						</td><td valign="top">
							<p>Enter the name of the file you want to check whether this file
								exists. Or if needs be, browse to the file or enter the path to the
								file, relative to the directory you entered in <span class="emphasis"><strong>HDFS directory</strong></span>.</p>
						</td></tr><tr><td>
							<span class="emphasis"><strong>Advanced settings</strong></span>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Hadoop properties</em></span>
							</p>
						</td><td valign="top">
							<p>If you need to use custom configuration for the Hadoop of
		interest, complete this table with the property or properties to be
		customized. Then at runtime, the customized property or properties
		will override those corresponding ones defined earlier for the same
		Hadoop. </p>
							<p>For further information about the properties required by Hadoop,
		see the Hadoop documentation. </p>
						</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">Select this check box to gather the Job processing
							metadata at a Job level as well as at each component level.</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Dynamic settings</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Click the <span class="emphasis"><strong>[+]</strong></span> button to add a row in the table and fill
		the <span class="emphasis"><strong>Code</strong></span> field with a context variable to choose your HDFS
		connection dynamically from multiple connections planned in your Job. This feature is useful
		when you need to access files in different HDFS systems or different distributions,
		especially when you are working in an environment where you cannot change your Job settings,
		for example, when your Job has to be deployed and executed independent of <span class="emphasis"><strong>Talend</strong></span>
		Studio.</p>
							<p>The <span class="emphasis"><strong>Dynamic settings</strong></span> table is available only when the
			<span class="emphasis"><strong>Use an existing connection</strong></span> check box is selected in the
			<span class="emphasis"><strong>Basic settings</strong></span> view. When a dynamic parameter is
		defined, the <span class="emphasis"><strong>Component List</strong></span> box in the <span class="emphasis"><strong>Basic settings</strong></span> view becomes unusable. </p>
							<p>For more information on <span class="emphasis"><strong>Dynamic settings</strong></span> and context
		variables, see <span class="emphasis"><em>Talend Data Integration Studio User Guide</em></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tHDFSExist</strong></span> is a standalone
								component. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Prerequisites</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>The Hadoop distribution must be properly installed, so as to guarantee the interaction
		with the Studio.</p>
							<p>For example, if you need to connect to MapR from the Studio, ensure that you have installed
		the MapR client in the machine where the Studio is, and added the MapR client library to the
		PATH variable of that machine. For Windows, this library is <span class="emphasis"><em>lib\MapRClient.dll</em></span> in the MapR client jar file; without adding it, you may
		encounter the following error: <code class="code">no MapRClient in java.library.path</code>.</p>
							<p>For further information about how to install an Hadoop distribution, see the manuals
		corresponding to the Hadoop distribution you are using.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>JRE 1.6+ is required.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario: Checking the existence of a file in HDFS"><div class="titlepage"><div><div><h3 class="title"><a name="d0e12033"></a>Scenario: Checking the existence of a file in HDFS</h3></div></div></div><p> In this scenario, the two-component Job checks whether a specific file exists in HDFS
			and returns a message to indicate the result of the verification.</p><p>In the real-world practice, you can take further action to process the file checked
			according to the verification result, using the other HDFS components provided with the
			Studio.</p><div class="mediaobject"><img src="../images/use_case-thdfsexist1.png"></div><p>Launch the Hadoop distribution in which you want to check the existence of a
			particular file. Then, proceed as follows:</p><div class="section" title="Linking the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12045"></a>Linking the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="emphasis"><strong>Integration</strong></span> perspective of the
						Studio, create an empty Job, named <span class="emphasis"><em>hdfsexist_file</em></span> for example, from the<span class="emphasis"><strong>
							Job Designs</strong></span> node in the <span class="emphasis"><strong>Repository</strong></span> tree view.</p><p>For further information about how to create a Job, see the user guide of
						the Studio for integration.</p></li><li class="step" title="Step 2"><p>Drop <span class="emphasis"><strong>tHDFSExist</strong></span> and <span class="emphasis"><strong>tMsgBox</strong></span> onto the workspace.</p></li><li class="step" title="Step 3"><p>Connect them using the <span class="emphasis"><strong>Trigger &gt; Run if</strong></span>
						link.</p></li></ol></div></div><div class="section" title="Configuring the connection to HDFS"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12081"></a>Configuring the connection to HDFS</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tHDFSExist</strong></span> to open its
							<span class="emphasis"><strong>Component</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/use_case-thdfsexist2.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="emphasis"><strong>Version</strong></span> area, select the Hadoop
						distribution you are connecting to and its version.</p></li><li class="step" title="Step 3"><p>In the <span class="emphasis"><strong>Connection</strong></span> area, enter the values
						of the parameters required to connect to the HDFS.</p><p>In the real-world practice, you may use <span class="emphasis"><strong>tHDFSConnection</strong></span> to create a connection and reuse it from the
						current component. For further information, see <a class="xref" href="tHDFSConnection.html" title="tHDFSConnection">the section called &#8220;tHDFSConnection&#8221;</a>.</p></li><li class="step" title="Step 4"><p>In the <span class="emphasis"><strong>HDFS Directory</strong></span> field, browse to,
						or enter the path to the folder where the file to be checked is. In this
						example, browse to <span class="emphasis"><em>/user/ychen/data/hdfs/out/dest</em></span>.</p></li><li class="step" title="Step 5"><p>In the <span class="emphasis"><strong>File name or relative path</strong></span> field,
						enter the name of the file you want to check the existence. For example,
							<span class="emphasis"><strong>output.csv</strong></span>.</p></li></ol></div></div><div class="section" title="Defining the message to be returned"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12134"></a>Defining the message to be returned</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tMsgBox</strong></span> to open its
							<span class="emphasis"><strong>Component</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/use_case-thdfsexist3.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="emphasis"><strong>Title</strong></span> field, enter the title to be
						used for the pop-up message box to be created.</p></li><li class="step" title="Step 3"><p>In the <span class="emphasis"><strong>Buttons</strong></span> list, select <span class="emphasis"><em>OK</em></span>. This defines the button to be displayed on
						the message box.</p></li><li class="step" title="Step 4"><p>In the <span class="emphasis"><strong>Icon</strong></span> list, select <span class="emphasis"><em>Icon information</em></span>.</p></li><li class="step" title="Step 5"><p>In the <span class="emphasis"><strong>Message</strong></span> field, enter the message
						you want to displayed once the file checking is done. In this example, enter
							<span class="emphasis"><em>"This file does not exist!"</em></span>.</p></li></ol></div></div><div class="section" title="Defining the condition"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12183"></a>Defining the condition</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Click the <span class="emphasis"><strong>If</strong></span> link to open the <span class="emphasis"><strong>Basic settings</strong></span> view, where you are able to define
						the condition for checking the existence of this file.</p><div class="mediaobject" align="center"><img src="../images/use_case-thdfsexist4.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="emphasis"><strong>Condition</strong></span> box, press <span class="emphasis"><strong>Ctrl+Space</strong></span> to access the variable list and select
						the global variable <span class="emphasis"><strong>EXISTS</strong></span>. Type an
						exclamation mark before the variable to negate the meaning of the
						variable.</p></li></ol></div></div><div class="section" title="Executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e12211"></a>Executing the Job </h4></div></div></div><div class="procedure"><ul class="procedure"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>F6</strong></span> to execute this Job.</p></li></ul></div><p>Once done, a message box pops up to indicate that this file called <span class="emphasis"><em>output.csv</em></span> does not exist in the directory you defined
				earlier.</p><div class="mediaobject" align="center"><img src="../images/use_case-thdfsexist5.png" align="middle"></div><p>In the HDFS we check the existence of the file, browse to this directory
				specified, you can see that this file does not exist.</p><div class="mediaobject" align="center"><img src="../images/use_case-thdfsexist6.png" align="middle"></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tHDFSDelete.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-bigdata.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tHDFSGet.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tHDFSDelete&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tdi-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tHDFSGet</td></tr></table></div></body></html>