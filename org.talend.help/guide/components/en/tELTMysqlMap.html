<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tELTMysqlMap</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-elt.html" title="Chapter&nbsp;11.&nbsp;ELT components"><link rel="prev" href="tELTMysqlInput.html" title="tELTMysqlInput"><link rel="next" href="tELTMysqlOutput.html" title="tELTMysqlOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tELTMysqlMap</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tELTMysqlInput.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;11.&nbsp;ELT components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tELTMysqlOutput.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tELTMysqlMap"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tELTMysqlMap"></a>tELTMysqlMap</h2></div></div></div><div class="mediaobject"><img src="../images/tELTMySQLMap.png"></div><div class="section" title="tELTMysqlMap properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e193205"></a>tELTMysqlMap properties</h3></div></div></div><p>The three ELT Mysql components are closely related, in terms of their operating
            conditions. These components should be used to handle Mysql DB schemas to generate
            Insert statements, including clauses, which are to be executed in the DB output table
            defined.</p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
                            <p><span class="emphasis"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>ELT/Map/Mysql</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Helps to graphically build the SQL statement using the table
                                provided as input.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Uses the tables provided as input, to feed the parameter in the
                                built statement. The statement can include inner or outer joins to
                                be implemented between tables or between one table and its
                                aliases.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Use an existing connection</em></span></p>
                        </td><td valign="top">
                        	<p>Select this check box and in the <span class="emphasis"><strong>Component List</strong></span> click the
		relevant connection component to reuse the connection details you already defined.</p>
                        	<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When a Job contains the parent Job and the child Job, if you need to share an existing
			connection between the two levels, for example, to share the connection created by the
			parent Job with the child Job, you have to: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the parent level, register the DB connection to be shared in the
							<span class="emphasis"><strong>Basic settings</strong></span> view of the connection
						component which creates that very DB connection.</p></li><li class="listitem"><p>In the child level, use a dedicated connection component to read that
						registered DB connection.</p></li></ol></div><p>For an example about how to share a DB connection across Job levels,see
					<span class="emphasis"><em>Talend Open Studio
				User Guide</em></span>.</p></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>ELT Mysql Map editor</em></span></p>
                        </td><td valign="top">
                            <p>The ELT Map editor allows you to define the output schema as well
                                as build graphically the SQL statement to be executed. The column
                                names of schema can be different from the column names in the
                                database.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Style link</em></span></p>
                        </td><td valign="top">
                            <p>Select the way in which links are displayed. </p>
                            <p>
                                <span class="emphasis"><strong>Auto</strong></span>: By default, the links between
                                the input and output schemas and the Web service parameters are in
                                the form of curves. </p>
                            <p>
                                <span class="emphasis"><strong>Bezier curve</strong></span>: Links between the
                                schema and the Web service parameters are in the form of curve. </p>
                            <p>
                                <span class="emphasis"><strong>Line</strong></span>: Links between the schema and
                                the Web service parameters are in the form of straight lines. </p>
                            <p> This option slightly optimizes performance.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Property type</em></span></p>
                        </td><td valign="top">
                            <p>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span>. </p>
                            <p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
                                centrally.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><strong>Repository</strong></span>: Select the Repository
                                file where Properties are stored. The following fields are
                                pre-filled in using fetched data.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Host</em></span></p>
                        </td><td valign="top">
                            <p>Database server IP address.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Port</em></span></p>
                        </td><td valign="top">
                            <p>Listening port number of DB server.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Database</em></span></p>
                        </td><td valign="top">
                            <p>Name of the database.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Username</em></span> and
                                <span class="emphasis"><em>Password</em></span></p>
                        </td><td valign="top">
                            <p>DB user authentication data.</p>
                        </td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Dynamic settings</strong></span>
                            </p>
                        </td><td colspan="2" valign="top">
                            <p>Click the <span class="emphasis"><strong>[+]</strong></span> button to add a row in the table and fill
		the <span class="emphasis"><strong>Code</strong></span> field with a context variable to choose your
		database connection dynamically from multiple connections planned in your Job. This feature
		is useful when you need to access database tables having the same data structure but in
		different databases, especially when you are working in an environment where you cannot
		change your Job settings, for example, when your Job has to be deployed and executed
		independent of <span class="emphasis"><strong>Talend</strong></span> Studio.</p>
                            <p>The <span class="emphasis"><strong>Dynamic settings</strong></span> table is available only when the
			<span class="emphasis"><strong>Use an existing connection</strong></span> check box is selected in the
			<span class="emphasis"><strong>Basic settings</strong></span> view. When a dynamic parameter is
		defined, the <span class="emphasis"><strong>Component List</strong></span> box in the <span class="emphasis"><strong>Basic settings</strong></span> view becomes unusable. </p>
                            <p>For more information on <span class="emphasis"><strong>Dynamic settings</strong></span> and context
		variables, see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="emphasis"><strong>tELTMysqlMap</strong></span> is used along with a
                                    <span class="emphasis"><strong>tELTMysqlInput</strong></span> and <span class="emphasis"><strong>tELTMysqlOutput</strong></span>. Note that the Output
                                link to be used with these components must correspond strictly to
                                the syntax of the table name. </p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The ELT components do not handle actual data flow but only
                                    schema information.</p></div>
                        </td></tr></tbody></table></div><div class="section" title="Connecting ELT components"><div class="titlepage"><div><div><h4 class="title"><a name="Raa99053"></a>Connecting ELT components</h4></div></div></div><p>The ELT components do not handle any data as such but table schema information
                that will be used to build the SQL query to execute.</p><p>Therefore the only connection required to connect these components together is a
                simple link. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The output name you give to this link when creating it should always be the
                    exact name of the table to be accessed as this parameter will be used in the SQL
                    statement generated.</p></div><p>Related topic: see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p></div><div class="section" title="Mapping and joining tables"><div class="titlepage"><div><div><h4 class="title"><a name="d0e193577"></a>Mapping and joining tables</h4></div></div></div><p>In the ELT Mapper, you can select specific columns from input schemas and include
                them in the output schema. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>As you would do it in the regular Map editor, simply drag &amp; drop the
                        content from the input schema towards the output table defined.</p></li><li class="listitem"><p>Use the <span class="emphasis"><strong>Ctrl</strong></span> and <span class="emphasis"><strong>Shift</strong></span> keys for multiple selection of contiguous or non
                        contiguous table columns.</p></li></ul></div><p>You can implement explicit joins to retrieve various data from different tables. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select the <span class="emphasis"><strong>Explicit join</strong></span> check box for
                        the relevant column, and selct a type of join from the <span class="emphasis"><strong>Join</strong></span> list. </p></li><li class="listitem"><p>Possible joins include: <span class="emphasis"><strong>Inner Join</strong></span>,
                            <span class="emphasis"><strong>Left Outer Join</strong></span>, <span class="emphasis"><strong>Right Outer Join</strong></span> or <span class="emphasis"><strong>Full Outer
                            Join</strong></span> and <span class="emphasis"><strong>Cross Join</strong></span>.</p></li><li class="listitem"><p>By default the <span class="emphasis"><strong>Inner Join</strong></span> is
                        selected.</p></li></ul></div><p>You can also create <span class="emphasis"><strong>Alias</strong></span> tables to retrieve
                various data from the same table.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the Input area, click on the plus <span class="emphasis"><strong>[+]</strong></span>
                        button to create an Alias. </p></li><li class="listitem"><p>Define the table to base the alias on.</p></li><li class="listitem"><p>Type in a new name for the alias table, preferably not the same as the
                        main table.</p></li></ul></div></div><div class="section" title="Adding where clauses"><div class="titlepage"><div><div><h4 class="title"><a name="d0e193649"></a>Adding where clauses</h4></div></div></div><p>You can also restrict the Select statement based on a Where clause. Click the
                    <span class="emphasis"><strong>Add filter row</strong></span> button at the top of the output
                table and type in the relevant restriction to be applied.</p><p>Make sure that all input components are linked correctly to the ELT Map component
                to be able to implement all inclusions, joins and clauses.</p></div><div class="section" title="Generating the SQL statement"><div class="titlepage"><div><div><h4 class="title"><a name="d0e193659"></a>Generating the SQL statement</h4></div></div></div><p>The mapping of elements from the input schemas to the output schemas create
                instantly the corresponding Select statement.</p><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap5Half.png"></div><p>The clause are also included automatically.</p></div></div><div class="section" title="Scenario&nbsp;1: Aggregating table columns and filtering"><div class="titlepage"><div><div><h3 class="title"><a name="Raa40349"></a>Scenario&nbsp;1: Aggregating table columns and filtering</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This scenario is for reference only. If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, the
                property type and schema of a component are always built-in, which means you have to
                configure the database connection details and schemas manually.</p></div><p>This scenario describes a Job that gathers together several input DB table schemas and
            implementing a clause to filter the output using an SQL statement.</p><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace: three <span class="emphasis"><strong>tELTMysqlInput</strong></span> components, a <span class="emphasis"><strong>tELTMysqlMap</strong></span>, and a <span class="emphasis"><strong>tELTMysqlOutput</strong></span>. Label these components to best describe their
                    functionality.</p></li><li class="listitem"><p>Double-click the first <span class="emphasis"><strong>tELTMysqlInput</strong></span>
                    component to display its <span class="emphasis"><strong>Basic settings</strong></span>
                    view.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> from the <span class="emphasis"><strong>Schema</strong></span> list, click the three dot button preceding
                        <span class="emphasis"><strong>Edit schema</strong></span>, and select your DB connection
                    and the desired schema from the <span class="emphasis"><strong>[Repository
                        Content]</strong></span> dialog box. </p><p> The selected schema name appears in the <span class="emphasis"><strong>Default Table
                        Name</strong></span> field automatically.</p><p> In this use case, the DB connection is <span class="emphasis"><em>Talend_MySQL</em></span> and the schema for
                    the first input component is <span class="emphasis"><em>owners</em></span>. </p></li><li class="listitem"><p>Set the second and third <span class="emphasis"><strong>tELTMysqlInput</strong></span>
                    components in the same way but select <span class="emphasis"><em>cars</em></span> and
                        <span class="emphasis"><em>resellers</em></span> respectively as their schema names.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In this use case, all the involved schemas are stored in the <span class="emphasis"><strong>Metadata</strong></span> node of the <span class="emphasis"><strong>Repository</strong></span>
                tree view for easy retrieval. For further information concerning metadata, see
                    <span class="emphasis"><em>Talend Open Studio</em></span>
                <span class="emphasis"><strong>User Guide</strong></span>.</p><p>You can also select the three input components by dropping the relevant schemas
                from the <span class="emphasis"><strong>Metadata</strong></span> area onto the design workspace
                and double-clicking <span class="emphasis"><strong>tELTMysqlInput</strong></span> from the
                    <span class="emphasis"><strong>[Components]</strong></span> dialog box. Doing so allows you to
                skip the steps of labeling the input components and defining their schemas manually.
            </p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Connect the three <span class="emphasis"><strong>tELTMysqlInput</strong></span> components
                    to the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component using links named
                    following strictly the actual DB table names: <span class="emphasis"><em>owners</em></span>,
                        <span class="emphasis"><em>cars</em></span> and <span class="emphasis"><em>resellers</em></span>.</p></li><li class="listitem"><p>Connect the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component to the
                        <span class="emphasis"><strong>tELTMysqlOutput</strong></span> component and name the link
                        <span class="emphasis"><em>agg_result</em></span>, which is the name of the database table you
                    will save the aggregation result to.</p></li><li class="listitem"><p>Click the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component to display
                    its <span class="emphasis"><strong>Basic settings</strong></span> view.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> from the <span class="emphasis"><strong>Property Type</strong></span> list, and select the same DB connection
                    that you use for the input components. </p><p> All the database details are automatically retrieved. </p></li><li class="listitem"><p>Leave all the other settings as they are. </p></li><li class="listitem"><p>Double-click the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component to
                    launch the ELT Map editor to set up joins between the input tables and define
                    the output flow.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Add the input tables by clicking the green plus button at the upper left
                    corner of the ELT Map editor and selecting the relevant table names in the
                        <span class="emphasis"><strong>[Add a new alias]</strong></span> dialog box.</p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>ID_Owner</em></span> column from the
                        <span class="emphasis"><em>owners</em></span> table to the corresponding column of the
                        <span class="emphasis"><em>cars</em></span> table. </p></li><li class="listitem"><p>In the <span class="emphasis"><em>cars</em></span> table, select the <span class="emphasis"><strong>Explicit join</strong></span> check box in front of the
                        <span class="emphasis"><em>ID_Owner</em></span> column. </p><p> As the default join type, <span class="emphasis"><strong>INNER JOIN</strong></span> is
                    displayed on the <span class="emphasis"><strong>Join</strong></span> list. </p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>ID_Reseller</em></span> column from the
                        <span class="emphasis"><em>cars</em></span> table to the corresponding column of the
                        <span class="emphasis"><em>resellers</em></span> table to set up the second join, and define
                    the join as an inner join in the same way. </p></li><li class="listitem"><p>Select the columns to be aggregated into the output table,
                        <span class="emphasis"><em>agg_result</em></span>. </p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>ID_Owner</em></span>, <span class="emphasis"><em>Name</em></span>, and
                        <span class="emphasis"><em>ID_Insurance</em></span> columns from the
                        <span class="emphasis"><em>owners</em></span> table to the output table.</p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>Registration</em></span>, <span class="emphasis"><em>Make</em></span>, and
                        <span class="emphasis"><em>Color</em></span> columns from the <span class="emphasis"><em>cars</em></span> table
                    to the output table. </p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>Name_Reseller</em></span> and <span class="emphasis"><em>City</em></span>
                    columns from the <span class="emphasis"><em>resellers</em></span> table to the output
                    table.</p></li><li class="listitem"><p>With the relevant columns selected, the mappings are displayed in yellow and
                    the joins are displayed in dark violet.</p></li><li class="listitem"><p>Set up a filter in the output table. Click the <span class="emphasis"><strong>Add
                        filter row</strong></span> button on top of the output table to display the
                        <span class="emphasis"><strong>Additional clauses</strong></span> expression field, drop
                    the <span class="emphasis"><em>City</em></span> column from the <span class="emphasis"><em>resellers</em></span>
                    table to the expression field, and complete a WHERE clause that reads
                        <code class="code">resellers.City ='Augusta'</code>.</p></li></ul></div><div class="mediaobject"><img src="../images/UseCase_teltmysqlmap-1-5_top.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click the <span class="emphasis"><strong>Generated SQL Select query</strong></span> tab to
                    display the corresponding SQL statement.</p></li></ul></div><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap5Half.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="emphasis"><strong>OK</strong></span> to save the ELT Map settings.</p></li><li class="listitem"><p>Double-click the <span class="emphasis"><strong>tELTMysqlOutput </strong></span>component to
                    display its <span class="emphasis"><strong>Basic settings</strong></span> view. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select an action from the <span class="emphasis"><strong>Action on data</strong></span> list
                    as needed.</p></li><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> as the schema type, and
                    define the output schema in the same way as you defined the input schemas. In
                    this use case, select <span class="emphasis"><em>agg_result</em></span> as the output schema,
                    which is the name of the database table used to store the mapping result.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You can also use a built-in output schema and retrieve the schema structure from
                the preceding component; however, make sure that you specify an existing target
                table having the same data structure in your database.</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Leave all the other settings as they are.</p></li><li class="listitem"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to launch
                    it.</p><p> All selected data is inserted in the <span class="emphasis"><em>agg_result</em></span> table as
                    specified in the SQL statement.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-7.png"></div></div><div class="section" title="Scenario 2: ELT using an Alias table"><div class="titlepage"><div><div><h3 class="title"><a name="Raa41309"></a>Scenario 2: ELT using an Alias table</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This scenario is for reference only. If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, the
                property type and schema of a component are always built-in, which means you have to
                configure the database connection details and schemas manually.</p></div><p>This scenario describes a Job that maps information from two input tables and an alias
            table, serving as a virtual input table, to an output table. The
                <span class="emphasis"><em>employees</em></span> table contains employees&#8217; IDs, their department
            numbers, their names, and the IDs of their respective managers. The managers are also
            considered as employees and hence included in the <span class="emphasis"><em>employees</em></span> table.
            The <span class="emphasis"><em>dept</em></span> table contains the department information. The alias table
            retrieves the names of the managers from the <span class="emphasis"><em>employees</em></span>
            table.</p><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop two <span class="emphasis"><strong>tELTMysqlInput</strong></span> components, a
                        <span class="emphasis"><strong>tELTMysqlMap</strong></span> component, and a <span class="emphasis"><strong>tELTMysqlOutput</strong></span> component to the design workspace,
                    and label them to best describe their functionality.</p></li><li class="listitem"><p>Double-click the first <span class="emphasis"><strong>tELTMysqlInput</strong></span>
                    component to display its <span class="emphasis"><strong>Basic settings</strong></span> view.
                </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> from the <span class="emphasis"><strong>Schema</strong></span> list, and define the DB connection and schema
                    by clicking the three dot button preceding <span class="emphasis"><strong>Edit
                        schema</strong></span>. </p><p> The DB connection is <span class="emphasis"><em>Talend_MySQL</em></span> and the schema for the first input
                    component is <span class="emphasis"><em>employees</em></span>. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In this use case, all the involved schemas are stored in the <span class="emphasis"><strong>Metadata</strong></span> node of the <span class="emphasis"><strong>Repository</strong></span>
                tree view for easy retrieval. For further information concerning metadata, see
                    <span class="emphasis"><em>Talend Open Studio</em></span>
                <span class="emphasis"><strong>User Guide</strong></span>.</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Set the second <span class="emphasis"><strong>tELTMysqlInput</strong></span> component in
                    the same way but select <span class="emphasis"><em>dept</em></span> as its schema.</p></li><li class="listitem"><p>Double-click the <span class="emphasis"><strong>tELTMysqlOutput</strong></span> component to
                    display its <span class="emphasis"><strong>Basic settings</strong></span> view.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-8.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select an action from the <span class="emphasis"><strong>Action on data</strong></span> list
                    as needed, <span class="emphasis"><strong>Insert</strong></span> in this use case.</p></li><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> as the schema type, and
                    define the output schema in the same way as you defined the input schemas. In
                    this use case, select <span class="emphasis"><em>result</em></span> as the output schema, which is
                    the name of the database table used to store the mapping result. </p><p> The output schema contains all the columns of the input schemas plus a
                        <span class="emphasis"><em>ManagerName</em></span> column.</p></li><li class="listitem"><p>Leave all the other parameters as they are.</p></li><li class="listitem"><p>Connect the two <span class="emphasis"><strong>tELTMysqlInput</strong></span> components to
                    the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component using <span class="emphasis"><strong>Link</strong></span> connections named strictly after the actual
                    input table names, <span class="emphasis"><em>employees</em></span> and <span class="emphasis"><em>dept</em></span>
                    in this use case.</p></li><li class="listitem"><p>Connect the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component to the
                        <span class="emphasis"><strong>tELTMysqlOutput</strong></span> component using a <span class="emphasis"><strong>Link</strong></span> connection. When prompted, click <span class="emphasis"><strong>Yes</strong></span> to allow the ELT Mapper to retrieve the output
                    table structure from the output schema.</p></li><li class="listitem"><p>Click the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component and select
                    the <span class="emphasis"><strong>Component</strong></span> tab to display its <span class="emphasis"><strong>Basic settings</strong></span> view. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Select <span class="emphasis"><strong>Repository</strong></span> from the <span class="emphasis"><strong>Property Type</strong></span> list, and select the same DB connection
                    that you use for the input components. </p><p> All the DB connection details are automatically retrieved. </p></li><li class="listitem"><p>Leave all the other parameters as they are. </p></li><li class="listitem"><p>Click the three-dot button next to <span class="emphasis"><strong>ELT Mysql Map
                        Editor</strong></span> or double-click the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component on the design workspace to launch the ELT
                    Map editor.</p><p> With the <span class="emphasis"><strong>tELTMysqlMap</strong></span> component connected to
                    the output component, the output table is displayed in the output area.</p></li><li class="listitem"><p>Add the input tables, <span class="emphasis"><em>employees</em></span> and
                        <span class="emphasis"><em>dept</em></span>, in the input area by clicking the green plus
                    button and selecting the relevant table names in the <span class="emphasis"><strong>[Add
                        a new alias]</strong></span> dialog box.</p></li><li class="listitem"><p>Create an alias table based on the <span class="emphasis"><em>employees</em></span> table by
                    selecting <span class="emphasis"><em>employees</em></span> from the <span class="emphasis"><strong>Select
                        the table to use</strong></span> list and typing in <span class="emphasis"><em>Managers</em></span>
                    in the <span class="emphasis"><strong>Type in a valid alias</strong></span> field in the the
                        <span class="emphasis"><strong>[Add a new alias]</strong></span> dialog box.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the <span class="emphasis"><em>DeptNo</em></span> column from the
                        <span class="emphasis"><em>employees</em></span> table to the <span class="emphasis"><em>dept</em></span>
                    table.</p></li><li class="listitem"><p>Select the <span class="emphasis"><strong>Explicit join</strong></span> check box in front
                    of the <span class="emphasis"><em>DeptNo</em></span> column of the <span class="emphasis"><em>dept</em></span> table
                    to set up an inner join.</p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>ManagerID</em></span> column from the
                        <span class="emphasis"><em>employees</em></span> table to the <span class="emphasis"><em>ID</em></span> column
                    of the <span class="emphasis"><em>Managers</em></span> table. </p></li><li class="listitem"><p>Select the <span class="emphasis"><strong>Explicit join</strong></span> check box in front
                    of the <span class="emphasis"><em>ID</em></span> column of the <span class="emphasis"><em>Managers</em></span> table
                    and select <span class="emphasis"><strong>LEFT OUTER JOIN</strong></span> from the <span class="emphasis"><strong>Join</strong></span> list to allow the output rows to contain Null
                    values.</p></li></ul></div><div class="mediaobject"><img src="../images/UseCase_teltmysqlmap2-4_left.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop all the columns from the <span class="emphasis"><em>employees</em></span> table to the
                    corresponding columns of the output table. </p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>DeptName</em></span> and <span class="emphasis"><em>Location</em></span>
                    columns from the <span class="emphasis"><em>dept</em></span> table to the corresponding columns of
                    the output table.</p></li><li class="listitem"><p>Drop the <span class="emphasis"><em>Name</em></span> column from the
                        <span class="emphasis"><em>Managers</em></span> table to the <span class="emphasis"><em>ManagerName</em></span>
                    column of the output table.</p></li></ul></div><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap2-4half.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click on the <span class="emphasis"><strong>Generated SQL Select query</strong></span> tab
                    to display the SQL query statement to be executed.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to run it.</p><p> The output database table <span class="emphasis"><em>result</em></span> contains all the
                    information about the employees, including the names of their respective
                    managers.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-7.png"></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tELTMysqlInput.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-elt.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tELTMysqlOutput.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tELTMysqlInput&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tELTMysqlOutput</td></tr></table></div></body></html>