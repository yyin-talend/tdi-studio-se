<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tJoin</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-processing.html" title="Chapter&nbsp;18.&nbsp;Processing components"><link rel="prev" href="tFilterRow.html" title="tFilterRow"><link rel="next" href="tMap.html" title="tMap"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tJoin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tFilterRow.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;18.&nbsp;Processing components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMap.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tJoin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tJoin"></a>tJoin</h2></div></div></div><div class="mediaobject"><img src="../images/tJoin_icon32_white.png"></div><div class="section" title="tJoin properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e270373"></a>tJoin properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
              <p><span class="emphasis"><strong>Component family</strong></span></p>
            </td><td valign="top">
              <p>Processing</p>
            </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Function</strong></span></p>
            </td><td colspan="2" valign="top">
              <p><span class="emphasis"><strong>tJoin</strong></span> joins two tables by doing an exact match
                on several columns. It compares columns from the main flow with reference columns
                from the lookup flow and outputs the main flow data and/or the rejected data.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Purpose</strong></span></p>
            </td><td colspan="2" valign="top">
              <p>This component helps you ensure the data quality of any source data against a
                reference data source.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Basic settings</strong></span></p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit schema</em></span></p>
            </td><td valign="top">
              <p>A schema is a row description, i.e., it defines the number of fields that will
                be processed and passed on to the next component. <span>The
                  schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in
                  the <span class="emphasis"><strong>Repository</strong></span>. </span>
              </p>
              <p>Click <span class="emphasis"><strong>Edit schema</strong></span> to make changes to the
                schema. Note that if you make changes to a remote schema, the schema automatically
                becomes built-in.</p>
              
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Built-in</strong></span>: You create and store the schema
                locally for this component only. Related topic: see <span class="emphasis"><em>Talend Open Studio User
                  Guide</em></span>.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><strong>Repository</strong></span>: The schema already exists and is
                stored in the Repository, hence can be reused in various projects and Job
                flowcharts. Related topic: see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Include lookup columns in output</em></span></p>
            </td><td valign="top">
              <p>Select this check box to include the lookup columns you define in the output
                flow.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><em>Key definition</em></span></p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Input key attribute</em></span></p>
            </td><td valign="top">
              <p>Select the column(s) from the main flow that needs to be checked against the
                reference (lookup) key column.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Lookup key attribute</em></span></p>
            </td><td valign="top">
              <p>Select the lookup key columns that you will use as a reference against which to
                compare the columns from the input flow.</p>
            </td></tr><tr><td>
              <p>&nbsp;</p>
            </td><td valign="top">
              <p><span class="emphasis"><em>Inner join (with reject output)</em></span></p>
            </td><td valign="top">
              <p>Select this check box to join the two tables first and gather the rejected data
                from the main flow.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
            </td><td valign="top">
              <p><span class="emphasis"><em>tStat</em></span><span class="emphasis"><em>Catcher</em></span>
                <span class="emphasis"><em>Statistics</em></span></p>
            </td><td valign="top">
              <p>Select this check box to collect log data at the component level.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Usage</strong></span></p>
            </td><td colspan="2" valign="top">
              <p>This component is not startable and it requires two input components and one or
                more output components.</p>
            </td></tr><tr><td valign="top">
              <p><span class="emphasis"><strong>Limitation/prerequisite</strong></span></p>
            </td><td colspan="2" valign="top">
              <p>n/a</p>
            </td></tr></tbody></table></div></div><div class="section" title="Scenario 1: Doing an exact match on two columns and outputting the main and rejected data"><div class="titlepage"><div><div><h3 class="title"><a name="d0e270615"></a>Scenario 1: Doing an exact match on two columns and outputting the main and rejected
      data</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>This scenario is for reference only. If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, the property type and schema of a
        component are always built-in, which means you have to drop all the required components from
        the <span class="emphasis"><strong>Palette</strong></span> and configure the component property details
        and schemas manually.</p></div><p>This scenario describes a five-component Job aiming at carrying out an exact match between
      the <span class="emphasis"><em>firstnameClient</em></span> column of an input file against the data of the
      reference input file, and the <span class="emphasis"><em>lastnameClient</em></span> column against the data of
      the reference input file. The outputs of this exact match are written in two separate files:
      exact data are written in an Excel file, and inaccurate data are written in a delimited
      file.</p><p>In this scenario, we have already stored the input schemas of the
      input and reference files in the Repository. For more information about storing schema
      metadata in the <span class="emphasis"><strong>Repository</strong></span> tree view, see <span class="emphasis"><em>Talend Open Studio User
      Guide</em></span>.</p><div class="section" title="Dropping and linking the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e270643"></a>Dropping and linking the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="emphasis"><strong>Repository</strong></span> tree view, expand <span class="emphasis"><strong>Metadata</strong></span> and the file node where you have stored the input
            schemas and drop the relevant file onto the design workspace.</p><p>The <span class="emphasis"><strong>[Components]</strong></span> dialog box appears.</p><div class="mediaobject"><img src="../images/Use_Case_tFuzzyJoin.png"></div></li><li class="step" title="Step 2"><p>Select <span class="emphasis"><strong>tFileInputDelimited </strong></span>from the list and click
              <span class="emphasis"><strong>OK</strong></span> to close the dialog box.</p><p>The <span class="emphasis"><strong>tFileInputDelimited</strong></span> component displays in the
            workspace. The input file used in this scenario is called
              <span class="emphasis"><em>ClientSample</em></span>. It holds four columns including the two columns
              <span class="emphasis"><em>firstnameClient</em></span> and <span class="emphasis"><em>lastnameClient</em></span> we want
            to do the exact match on.</p></li><li class="step" title="Step 3"><p>Do the same for the second input file you want to use as a reference,
              <span class="emphasis"><em>ClientSample_Update</em></span> in this scenario.</p></li><li class="step" title="Step 4"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto
            the design workspace: <span class="emphasis"><strong>tJoin</strong></span>, <span class="emphasis"><strong>tFileOutputExcel</strong></span>, and <span class="emphasis"><strong>tFileOutputDelimited</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tJoin1.png"></div></li><li class="step" title="Step 5"><p>Connect the main and reference input files to <span class="emphasis"><strong>tJoin</strong></span>
            using <span class="emphasis"><strong>Main</strong></span> links. The link between the reference input
            file and <span class="emphasis"><strong>tJoin</strong></span> appears as a lookup link on the design
            workspace.</p></li><li class="step" title="Step 6"><p>Connect <span class="emphasis"><strong>tJoin</strong></span> to <span class="emphasis"><strong>tFileOutputExcel</strong></span> using the <span class="emphasis"><strong>Main</strong></span> link and
              <span class="emphasis"><strong>tJoin</strong></span> to <span class="emphasis"><strong>tFileOutputDelimited</strong></span> using the <span class="emphasis"><strong>Inner join
              reject</strong></span> link.</p></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e270744"></a>Configuring the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>If needed, double-click the main and reference input files to display their
              <span class="emphasis"><strong>Basic settings</strong></span> views. All their property fields are
            automatically filled in. If you do not define your input files in the <span class="emphasis"><strong>Repository</strong></span>, fill in the details manually after selecting
              <span class="emphasis"><strong>Built-in</strong></span> in the <span class="emphasis"><strong>Property
              Type</strong></span> field.</p></li><li class="step" title="Step 2"><p>Double click <span class="emphasis"><strong>tJoin</strong></span> to display its <span class="emphasis"><strong>Basic settings</strong></span> view and define its properties.</p><div class="mediaobject"><img src="../images/Use_Case_tJoin2.png"></div></li><li class="step" title="Step 3"><p>Click the <span class="emphasis"><strong>Edit schema</strong></span> button to open a dialog box
            that displays the data structure of the input files, define the data you want to pass to
            the output components, three columns in this scenario, <span class="emphasis"><em>idClient</em></span>,
              <span class="emphasis"><em>firstnameClient</em></span> and <span class="emphasis"><em>lastnameClient</em></span>, and then
            click <span class="emphasis"><strong>OK</strong></span> to validate the schema and close the dialog
            box.</p><div class="mediaobject"><img src="../images/Use_Case_tJoin3.png"></div></li><li class="step" title="Step 4"><p>In the <span class="emphasis"><strong>Key definition</strong></span> area of the <span class="emphasis"><strong>Basic settings</strong></span> view of <span class="emphasis"><strong>tJoin</strong></span>,
            click the plus button to add two columns to the list and then select the input columns
            and the output columns you want to do the exact matching on from the <span class="emphasis"><strong>Input key attribute</strong></span> and <span class="emphasis"><strong>Lookup key
              attribute</strong></span> lists respectively, <span class="emphasis"><em>firstnameClient</em></span> and
              <span class="emphasis"><em>lastnameClient</em></span> in this example.</p></li><li class="step" title="Step 5"><p>Select the <span class="emphasis"><strong>Inner join (with reject output)</strong></span> check
            box to define one of the outputs as inner join reject table.</p></li><li class="step" title="Step 6"><p>Double click <span class="emphasis"><strong>tFileOutputExcel</strong></span> to display its
              <span class="emphasis"><strong>Basic settings</strong></span> view and define its properties.</p><div class="mediaobject"><img src="../images/Use_Case_tJoin4.png"></div></li><li class="step" title="Step 7"><p>Set the destination file name and the sheet name, and select the <span class="emphasis"><strong>Include header</strong></span> check box.</p></li><li class="step" title="Step 8"><p>Double click <span class="emphasis"><strong>tFileOutputDelimited</strong></span> to display its
              <span class="emphasis"><strong>Basic settings</strong></span> view and define its properties.</p><div class="mediaobject"><img src="../images/Use_Case_tJoin5.png"></div></li><li class="step" title="Step 9"><p>Set the destination file name, and select the <span class="emphasis"><strong>Include
              header</strong></span> check box.</p></li></ol></div></div><div class="section" title="Saving and executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e270862"></a>Saving and executing the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job.</p></li><li class="step" title="Step 2"><p>Press <span class="emphasis"><strong>F6</strong></span>, or click <span class="emphasis"><strong>Run</strong></span> on the <span class="emphasis"><strong>Run</strong></span> tab to execute the
            Job.</p><div class="mediaobject"><img src="../images/Use_Case_tJoinExecuted.png"></div><p>The output of the exact match on the <span class="emphasis"><em>firstnameClient</em></span> and
              <span class="emphasis"><em>lastnameClient</em></span> columns is written to the defined Excel
            file.</p><div class="mediaobject"><img src="../images/Use_Case_tJoinOutExcel.png"></div><p>The rejected data is written to the defined delimited file.</p><div class="mediaobject"><img src="../images/Use_Case_tJoinOutCSV.png"></div></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tFilterRow.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-processing.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMap.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tFilterRow&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tMap</td></tr></table></div></body></html>