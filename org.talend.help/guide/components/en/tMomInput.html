<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMomInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch12.html" title="Chapter&nbsp;12.&nbsp;Internet components"><link rel="prev" href="tMomCommit.html" title="tMomCommit"><link rel="next" href="tMomMessageIdList.html" title="tMomMessageIdList"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tMomInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMomInput"></a>tMomInput</h2></div></div></div><div class="mediaobject"><img src="../images/tMomInput_icon32_white.png"></div><div class="section" title="tMomInput Properties"><div class="titlepage"><div><div><h3 class="title"><a name="Raa41192"></a>tMomInput Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
                            <p><span class="bold"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>Internet </p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Fetches a message from a queue on a Message-Oriented middle ware
                                system and passes it on to the next component.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="bold"><strong>tMomInput</strong></span> makes it possible to
                                set up asynchronous communications via a MOM server.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Keep listening</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to keep the MOM server listening for and
                                fetching new messages.</p>
                            <p> -For <span class="bold"><strong>JBoss Messaging</strong></span> server,
                                with this check box selected, the <span class="bold"><strong>Sleeping
                                    time (in sec)</strong></span> field will appear.</p>
                            <p> -For <span class="bold"><strong>Active MQ</strong></span> server, with this
                                check box selected, the <span class="bold"><strong>Sleeping time (in
                                    sec)</strong></span> field will disappear.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Sleeping time (in sec)</em></span></p>
                        </td><td valign="top">
                            <p>Set the frequency by typing in numbers.</p>
                            <p> </p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is not available if the <span class="bold"><strong>MQ
                                        Server</strong></span> you selected is <span class="bold"><strong>WebSphere MQ</strong></span>.</p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>MQ Server</em></span></p>
                        </td><td valign="top">
                            <p>Select the MOM server to be used from the list. According to the
                                server selected, the parameters required differ slightly.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Host/Port</em></span></p>
                        </td><td valign="top">
                            <p>Fill in the Host name or IP address of the MOM server and
                                Port.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Username</em></span></p>
                        </td><td valign="top">
                            <p>Connection login to the server you select in the <span class="bold"><strong>MQ Server</strong></span> list.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Password</em></span></p>
                        </td><td valign="top">
                            <p>Connection password to the server you select in the <span class="bold"><strong>MQ Server</strong></span> list.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Message From</em></span></p>
                        </td><td valign="top">
                            <p>Type in the message source, exactly as expected by the server;
                                this must include the type and name of the source. e.g.: queue/A or
                                topic/testtopic</p>
                            <p> Note that the field is case-sensitive.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This field is not available if the <span class="bold"><strong>MQ
                                        Server</strong></span> you selected is <span class="bold"><strong>WebSphere MQ</strong></span>.</p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Message Type</em></span></p>
                        </td><td valign="top">
                            <p>Select the message type, either: <span class="bold"><strong>Topic</strong></span> or <span class="bold"><strong>Queue</strong></span>.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This list is not available if the <span class="bold"><strong>MQ
                                        Server</strong></span> you selected is <span class="bold"><strong>WebSphere MQ</strong></span>.</p></td></tr></table></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Message Body Type</em></span></p>
                        </td><td valign="top">
                            <p>Select the message body type, either: <span class="bold"><strong>Text</strong></span> , <span class="bold"><strong>Bytes</strong></span> or
                                    <span class="bold"><strong>Map</strong></span></p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                Schema</em></span></p>
                        </td><td valign="top">
                            <p>A schema is a row description, i.e., it defines the number of
                                fields that will be processed and passed on to the next component. </p>
                            <p>In the context of <span class="bold"><strong>tMomInput</strong></span>
                                usage, the schema is comprised of two columns: <span class="bold"><strong>From</strong></span> and <span class="bold"><strong>Message</strong></span>,
                                and the column names are read only.</p>
                        </td></tr><tr><td valign="top">
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
                                    <span class="emphasis"><em>Websphere MQ only </em></span></p></td></tr></table></div>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Channel</em></span></p>
                        </td><td valign="top">
                            <p>Fill this field with the name of the channel through which the
                                data connection is established. The default value is
                                    <span class="emphasis"><em>DC.SVRCONN</em></span>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Queue Manager</em></span></p>
                        </td><td valign="top">
                            <p>A system program that provides a logical container for the message
                                queue and is responsible for transferring data to other queue
                                managers via message channels. Fill this field with the name of the
                                queue manager to which the data connection is made.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Message Queue</em></span></p>
                        </td><td valign="top">
                            <p>A queue from which message queueing applications can put messages
                                on, and get messages. Fill this field with the name of the message
                                queue.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Is using message id to fetch</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to fetch messages according to their
                                IDs.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Commit (delete message after reading from the
                                    queue)</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to force a commit after reading each message
                                from the queue.</p>
                        </td></tr><tr><td>&nbsp;</td><td valign="top"><span class="emphasis"><em>Backout removed messages</em></span></td><td valign="top"><p>Select this check box to indicate to the queue
                                manager that all the messages read from the server will not be
                                deleted when the connection to server is cut off. </p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box and the <span class="bold"><strong>Browse
                                        message</strong></span> check box in the <span class="bold"><strong>Advanced settings</strong></span> view enable you to read
                                    messages non-destructively from the queue. It is visible only
                                    when the MQ server is WebSphere MQ with the <span class="bold"><strong>Keep listening</strong></span> check box cleared. For
                                    further information, see <a class="link" href="https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf" target="_top">https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf</a>
                                    .</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
                                    <span class="emphasis"><em>ActiveMQ only</em></span></p></td></tr></table></div>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Receive number of messages</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to set the number of messages that you will
                                receive on the console.</p>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">When you want to limit the number of
                                        messages to receive, the time limit becomes inactive and the
                                            <span class="bold"><strong>Keep
                                            listening</strong></span>/<span class="bold"><strong>Sleeping time
                                            (in sec)</strong></span> fields disappear.</span></p></td></tr></table></div>
                        </td></tr><tr><td valign="top"><span class="bold"><strong>Advanced
                            settings</strong></span></td><td valign="top"><span class="emphasis"><em>Acknowledgement Mode</em></span></td><td valign="top"><p>Select an acknowledgement mode from the list to
                                indicate that the client will acknowledge any messages it
                                receives:</p>
                            <p><span class="bold"><strong>Auto Acknowledge</strong></span>: With this
                                acknowledgement mode, the client automatically acknowledges a
                                message when it has either successfully returned from a call to
                                receive,or the message listener it has called to process the message
                                successfully returns.</p>
                            <p><span class="bold"><strong>Client Acknowledge</strong></span>: With this
                                acknowledgement mode, the client acknowledges a message by calling a
                                message&#8217;s acknowledge method.</p>
                            <p><span class="bold"><strong>Dups OK Acknowledge</strong></span>: This
                                acknowledgement mode instructs the session to lazily acknowledge the
                                delivery of messages. </p>
                            <p>For further information about the usage of Jms headers, see <a class="link" href="https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf" target="_top">https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf</a>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>If the check box <span class="bold"><strong>Set
                                            Transacted</strong></span> is selected in the <span class="bold"><strong>Advanced settings</strong></span> view of
                                            <span class="bold"><strong>tMomOutput</strong></span>, <span class="bold"><strong>Acknowledgement Mode</strong></span> will be
                                        ignored. This check box is enabled when the MQ server is
                                        ActiveMQ or JBoss Messaging.</p></td></tr></table></div></td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Get Jms Header</em></span></td><td valign="top"><p>Select this check box to receive the Jms headers
                                through the mapping from Jms fields onto MQ Series fields. When this
                                checkbox is checked, you can specify the Jms header and the
                                corresponding reference column name in the line(s) you added by
                                clicking the plus button in the <span class="bold"><strong>Parameters</strong></span> table. For further information about the
                                usage of Jms headers, see <a class="link" href="https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf" target="_top">https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf</a>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled when the MQ server is ActiveMQ
                                        or JBoss Messaging.</p></td></tr></table></div></td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Get Jms Properties</em></span></td><td valign="top"><p>Select this check box to receive the Jms
                                properties mapped to MQMD fields. When this checkbox is checked, you
                                can specify the property name, the property type and the reference
                                column name in the line(s) you added by clicking the plus button in
                                the <span class="bold"><strong>Parameters</strong></span> table. For further
                                information about the usage of Jms properties, see <a class="link" href="https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf" target="_top">https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf</a>.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is enabled when the MQ server is ActiveMQ or
                                    JBoss Messaging.</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Browse message</em></span></td><td valign="top">
                            <p>Select this check box to disable <span class="bold"><strong>Commit(delete message after reading from the queue)</strong></span>
                                check box and <span class="bold"><strong>Backout removed
                                    messages</strong></span> check box in the <span class="bold"><strong>Basic
                                    settings</strong></span> view and open the queue to browse
                                messages.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box and the <span class="bold"><strong>Backout removed
                                        messages</strong></span> check box in the <span class="bold"><strong>Basic settings</strong></span> view enable you to read messages
                                    non-destructively from the queue. <span class="bold"><strong>Browse
                                        message</strong></span> check box is visible only when the MQ
                                    server is WebSphere MQ with the <span class="bold"><strong>Backout
                                        removed messages</strong></span> check box cleared. For further
                                    information, see <a class="link" href="http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0m0/index.jsp?topic=%2Fcom.ibm.mq.java.doc%2Fcom%2Fibm%2Fmq%2FMQC.html/" target="_top">http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0m0/index.jsp?topic=%2Fcom.ibm.mq.java.doc%2Fcom%2Fibm%2Fmq%2FMQC.html/</a>.</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Get MQMD Fields</em></span></td><td valign="top"><p>Select this check box to set one or more message
                                descriptors by adding new fields for MQMD(message queuing message
                                descriptor) in the <span class="bold"><strong>Parameters</strong></span>
                                table:</p>
                            <p><span class="bold"><strong>Field Name</strong></span>: Select one or more
                                message descriptors from the list to retrieve header information of
                                the message.</p>
                            <p><span class="bold"><strong>Reference Column Name</strong></span>: The header
                                and properties information of the message.</p>
                            <p>For further information, see <a class="link" href="http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0m0/index.jsp?topic=%2Fcom.ibm.mq.csqzak.doc%2Ffr13040_.htm/" target="_top">http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0m0/index.jsp?topic=%2Fcom.ibm.mq.csqzak.doc%2Ffr13040_.htm/</a>. </p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is available only when the MQ server is
                                    WebSphere MQ.</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Include Header</em></span></td><td valign="top"><p>Select this check box to enable the check box for: </p>
                            <p><span class="bold"><strong>MQRFH2 fixed Portion</strong></span>: Select this
                                check box and click the plus button to add one or more lines to
                                specify the fields and the reference column names for the fixed
                                portion of MQRFH2 header.</p>
                            <p>and the check boxes for the variable portion which contains the
                                following three folders:</p>
                            <p><span class="bold"><strong>MCD folder</strong></span>: Select this check box
                                and click the plus button to add one or more lines to specify the
                                fields and the reference column names for the properties that
                                describe the format of the message.</p>
                            <p><span class="bold"><strong>JMS folder</strong></span>: Select this check box
                                and click the plus button to add one or more lines to specify the
                                fields and the reference column names for the transportation of JMS
                                header fields and JMSX properties.</p>
                            <p><span class="bold"><strong>USR folder</strong></span>: Select this check box
                                and click the plus button to add one or more lines to specify the
                                fields and the reference column names for the transportation of
                                application-defined properties associated with the message.</p>
                            <p>For further information about MQRFH2 header, see <a class="link" href="https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf" target="_top">https://publib.boulder.ibm.com/iseries/v5r2/ic2924/books/csqzaw07.pdf</a>.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is available only when the MQ server is
                                    WebSphere MQ.</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top"><span class="emphasis"><em>Set CipherSpec</em></span></td><td valign="top"><p>Select this check box to enable the CipherSpec
                                list from which you can specify the CipherSpec to be used with
                                WebSphere MQ SSL.</p>
                            <p>For further information about CipherSpec, see <a class="link" href="http://publib.boulder.ibm.com/infocenter/wmqv6/v6r0/index.jsp?topic=%2Fcom.ibm.mq.csqzas.doc%2Fsy12870_.htm" target="_top">http://publib.boulder.ibm.com/infocenter/wmqv6/v6r0/index.jsp?topic=%2Fcom.ibm.mq.csqzas.doc%2Fsy12870_.htm</a>.</p>
                            <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This check box is available only when the MQ server is
                                    WebSphere MQ.</p></td></tr></table></div>
                        </td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
                            <p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to gather the Job processing metadata at a
                                Job level as well as at each component level.</p>
                        </td></tr><tr><td>&nbsp;</td><td valign="top"><span class="emphasis"><em>Enable parallel execution</em></span></td><td valign="top">
                            <p>Select this check box to perform high-speed data processing, by
                                treating multiple data flows simultaneously. </p>
                            <p> In the <span class="bold"><strong>Number of parallel
                                    executions</strong></span> field, either:</p>
                            <p> - Enter the number of parallel executions desired.</p>
                            <p> - Press <span class="bold"><strong>Ctrl + Space</strong></span> and select
                                the appropriate context variable from the list.</p>
                            <p> </p>
                            <p> For further information, see <span class="emphasis"><em>Talend Open Studio User
                                    Guide</em></span>.</p>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">The <span class="bold"><strong>Action on
                                            table</strong></span> field is not available with the
                                        parallelization function. Therefore, you must use a
                                            <span class="bold"><strong>tCreateTable</strong></span> component
                                        if you want to create a table.</span></p></td></tr></table></div>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
                                    <span class="emphasis"><em>When parallel execution is enabled, it is not possible
                                        to use global variables to retrieve return values in a
                                        SubJob.</em></span></p></td></tr></table></div>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>This component is generally used as a start component. It must be
                                linked to an output component.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="bold"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Make sure the relevant ActiveMQ, JBoss Messaging or Websphere MQ
                                server is launched.</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario 1: Asynchronous communication via a MOM server"><div class="titlepage"><div><div><h3 class="title"><a name="Raa41318"></a>Scenario 1: Asynchronous communication via a MOM server</h3></div></div></div><p>This scenario is made of two Jobs. The first Job posts messages on a JBoss server
            queue and the second Job fetches the message from the server.</p><p>In the first Job, a string message is created using a <span class="bold"><strong>tRowGenerator</strong></span> and put on a JBoss server using a <span class="bold"><strong>tMomOutput</strong></span>. An intermediary <span class="bold"><strong>tLogRow</strong></span>
            component displays the flow being passed.</p><div class="mediaobject"><img src="../images/Use_Case_tMomInput1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the three components required for the first Job from the <span class="bold"><strong>Palette</strong></span> onto the design workspace and right-click to
                    connect them using a <span class="bold"><strong>Main </strong></span>row link.</p></li><li class="listitem"><p> Double-click on <span class="bold"><strong>tRowGenerator</strong></span> to set the
                    schema to be randomly generated.</p></li></ul></div><div class="mediaobject"><img src="../images/use_case-tmominput2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Set just one column called <span class="emphasis"><em>message</em></span>. This is the message
                    to be put on the MOM queue.</p></li><li class="listitem"><p> This column is of <span class="bold"><strong>String</strong></span> type and is
                    nullable. To produce the data, use a preset function which concatenates randomly
                    chosen ascii characters to form a 6-char string. This function is
                        <code class="code">getAsciiRandomString</code>. (Java version). Click the Preview button
                    to view a random sample of data generated.</p></li><li class="listitem"><p> Set the <span class="bold"><strong>Number of rows to be generated</strong></span> to
                        <span class="emphasis"><em>10</em></span>.</p></li><li class="listitem"><p> Click <span class="bold"><strong>OK</strong></span> to validate.</p></li><li class="listitem"><p> The <span class="bold"><strong>tLogRow</strong></span> is only used to display a
                    intermediary state of the data to be handled. In this example, it doesn&#8217;t
                    require any specific configuration.</p></li><li class="listitem"><p> Then select the <span class="bold"><strong>tMomOutput </strong></span>component.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMomInput3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In this case, the<span class="bold"><strong> MQ server</strong></span> to be used is
                        <span class="bold"><strong>JBoss</strong></span>.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Host</strong></span> and <span class="bold"><strong>Port</strong></span> fields, fill in the relevant connection information.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>Message type</strong></span> from the list. The
                    message can be of <span class="bold"><strong>Queue</strong></span> or <span class="bold"><strong>Topic</strong></span> type. In this example, select the <span class="bold"><strong>Queue </strong></span>type from the list. </p></li><li class="listitem"><p> In the <span class="bold"><strong>To</strong></span> field, type in the message source
                    information strictly respecting the syntax expected by the server. This should
                    match the Message Type you selected, such as: <code class="code">queue/A</code>. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> The message name is case-sensitive, therefore <code class="code">queue/A</code> and
                    <code class="code">Queue/A</code> are different.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Then click <span class="bold"><strong>Sync Columns</strong></span> to pass on the
                    schema from the preceding component. The schema being read-only, it cannot be
                    changed. The data posted onto the MQ comes from the first schema column
                    encountered.</p></li><li class="listitem"><p> Press <span class="bold"><strong>F6</strong></span> to execute the Job and view the
                    data flow being passed on in the console, thanks to the <span class="bold"><strong>tLogRow</strong></span> component.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMomInput6.png"></div><p>Then set the second Job in order to fetch the queuing messages from the MOM
            server.</p><div class="mediaobject"><img src="../images/Use_Case_tMomInput4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the <span class="bold"><strong>tMomInput</strong></span> component and a <span class="bold"><strong>tLogRow</strong></span> from the <span class="bold"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>tMomInput</strong></span> to set the
                    parameters.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMomInput5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Select the <span class="bold"><strong>MQ server</strong></span> from the list. In this
                    example, a JBoss messaging server is used. </p></li><li class="listitem"><p> Set the server <span class="bold"><strong>Host</strong></span> and <span class="bold"><strong>Port</strong></span> information.</p></li><li class="listitem"><p> Set the <span class="bold"><strong>Message From</strong></span> and the <span class="bold"><strong>Message Type</strong></span> to match the source and type expected by
                    the messaging server.</p></li><li class="listitem"><p> The <span class="bold"><strong>Schema</strong></span> is read-only and is made of two
                    columns: <span class="bold"><strong>From</strong></span> and <span class="bold"><strong>Message</strong></span>.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>Keep listening</strong></span> check box and set
                    the verification frequency to <span class="emphasis"><em>5 </em></span>seconds.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> When using the <span class="bold"><strong>Keep Listening</strong></span> option, you&#8217;ll
                need to kill the Job to end it.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> No need to change any default setting from the <span class="bold"><strong>tLogRow</strong></span>.</p></li><li class="listitem"><p> Save the Job and run it (when launching for the first time or if you killed
                    it on a previous run).</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMomInput7.png"></div><p>The messages fetched on the server are displayed on the console.</p></div><div class="section" title="Scenario 2: Transmitting XML files via a MOM server"><div class="titlepage"><div><div><h3 class="title"><a name="jzhang-20120420-internet-tmominput_s2"></a>Scenario 2: Transmitting XML files via a MOM server</h3></div></div></div><p>This scenario describes a five-component Job composed of two subjobs that sends XML
            files from a local folder to a MOM queue, and then fetches the files from the MOM queue
            and displays the contents of the files on the console.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-1.png"></div><div class="section" title="Dropping and links the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e214115"></a>Dropping and links the components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>From the <span class="bold"><strong>Palette</strong></span>, drop the following
                        components one after another onto the design workspace: <span class="bold"><strong>tFileList</strong></span>, <span class="bold"><strong>tFileInputXML</strong></span>, <span class="bold"><strong>tMomOutput</strong></span>,
                            <span class="bold"><strong>tMomInput</strong></span>, and <span class="bold"><strong>tLogRow</strong></span>.</p></li><li class="step" title="Step 2"><p>Connect <span class="bold"><strong>tFileList</strong></span> to <span class="bold"><strong>tFileInputXML</strong></span> using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Iterate</strong></span> link, and
                        connect <span class="bold"><strong>tFileInputXML</strong></span> to <span class="bold"><strong>tMomOutput</strong></span> using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span> link to form the
                        first subjob. This subjob will read each XML file in a given folder and send
                        it to a MOM queue. </p></li><li class="step" title="Step 3"><p>Connect <span class="bold"><strong>tMomInput</strong></span> to <span class="bold"><strong>tLogRow</strong></span> using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span> link to form the
                        second subjob. This subjob will fetch the XML files from MOM queue and
                        display the file contents on the console. </p></li><li class="step" title="Step 4"><p>Connect <span class="bold"><strong>tFileInputXML</strong></span> to <span class="bold"><strong>tMomInput</strong></span> using a <span class="bold"><strong>Trigger</strong></span> &gt; <span class="bold"><strong>On Component Ok</strong></span>
                        connection to link the two subjobs.</p></li></ol></div></div><div class="section" title="Configuring the first subjob"><div class="titlepage"><div><div><h4 class="title"><a name="d0e214197"></a>Configuring the first subjob</h4></div></div></div><div class="section" title="Configuring the input components"><div class="titlepage"><div><div><h5 class="title"><a name="d0e214200"></a>Configuring the input components</h5></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="bold"><strong>tFileList</strong></span> component
                            to open its <span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-2.png"></div></li><li class="step" title="Step 2"><p>In the <span class="bold"><strong>Directory</strong></span> field, enter the
                            path to the directory to read XML files from, or browse to the path by
                            clicking the <span class="bold"><strong>[...]</strong></span> button next to the
                            field.</p></li><li class="step" title="Step 3"><p>Select <span class="bold"><strong>Use Glob Expressions as
                                Filemask</strong></span> check box, add a new line in the <span class="bold"><strong>Files</strong></span> field by clicking the <span class="bold"><strong>[+]</strong></span> button, and enter <code class="code">"*.xml"</code> as
                            the file mask so that all XML files in the directory will be used. Keep
                            all the other settings as they are. </p></li><li class="step" title="Step 4"><p>Double-click the <span class="bold"><strong>tFileInputXML</strong></span>
                            component to open its <span class="bold"><strong>Basic settings</strong></span>
                            view.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-3.png"></div></li><li class="step" title="Step 5"><p>Click the <span class="bold"><strong>[...]</strong></span> button next to
                                <span class="bold"><strong>Edit schema</strong></span> to open the <span class="bold"><strong>[Schema]</strong></span> dialog box.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-4.png"></div></li><li class="step" title="Step 6"><p>Click the <span class="bold"><strong>[+]</strong></span> button to add a column,
                            give it a name, <span class="italic">message</span> in this
                            example, and select <span class="bold"><strong>Document</strong></span> from the
                                <span class="bold"><strong>Type</strong></span> list to handle XML format
                            files. Then, click <span class="bold"><strong>OK</strong></span> to close the
                            dialog box.</p></li><li class="step" title="Step 7"><p>In the <span class="bold"><strong>File name/Stream </strong></span>field, press
                                <span class="bold"><strong>Ctrl+Space</strong></span> to access the global
                            variable list, and select <code class="code">tFileList_1.CURRENT_FILEPATH</code> to
                            loop on the context files&#8217; directory. </p></li><li class="step" title="Step 8"><p>In in the <span class="bold"><strong>Loop XPath query</strong></span> fields,
                            enter <code class="code">&#8220;/&#8221;</code> to define the root as the loop node of the input
                            files' structure; in the <span class="bold"><strong>Mapping</strong></span> table,
                            fill the <span class="bold"><strong>XPath query</strong></span> column with
                                <code class="code">&#8220;.&#8221;</code> to extract all data from context node of the source
                            files, and select the <span class="bold"><strong>Get Nodes</strong></span> check
                            box to build a <span class="bold"><strong>Document</strong></span> type data flow. </p></li></ol></div></div><div class="section" title="Configuring the tMomOutput component"><div class="titlepage"><div><div><h5 class="title"><a name="d0e214321"></a>Configuring the tMomOutput component</h5></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="bold"><strong>tMomOutput</strong></span> component
                            to open its <span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-5.png"></div></li><li class="step" title="Step 2"><p>Select <span class="bold"><strong>WebSphere MQ</strong></span> from the
                                <span class="bold"><strong>MQ server</strong></span> list, and enter the host
                            name or IP address of the MQ server and the port number.</p></li><li class="step" title="Step 3"><p>Enter the login authentication information in the <span class="bold"><strong>Username</strong></span> and <span class="bold"><strong>Password</strong></span> fields, and enter the channel name of the
                            transmission queue in the <span class="bold"><strong>Channel</strong></span>
                            field. </p></li><li class="step" title="Step 4"><p>As we are handling file messages, select <span class="bold"><strong>Text
                                Message</strong></span> from the <span class="bold"><strong>Message Body
                                Type</strong></span> list. </p></li><li class="step" title="Step 5"><p>Click <span class="bold"><strong>Sync columns</strong></span> to retrieve the
                            schema structure from the preceding component.</p></li><li class="step" title="Step 6"><p>Fill in the queue manager and message queue details in the
                            corresponding fields, and leave the other settings as they are. </p></li></ol></div></div></div><div class="section" title="Configuring the second subjob"><div class="titlepage"><div><div><h4 class="title"><a name="d0e214376"></a>Configuring the second subjob</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="bold"><strong>tMomInput</strong></span> component to
                        open its <span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-6.png"></div></li><li class="step" title="Step 2"><p>Set the basic parameters of the component using the same settings you have
                        done in the <span class="bold"><strong>tMomOutput</strong></span> component, including
                        the MQ server details, login authentication details, channel, message body
                        type, queue manager and message queue. </p></li><li class="step" title="Step 3"><p>Click the <span class="bold"><strong>[...]</strong></span> button next to <span class="bold"><strong>Edit schema</strong></span> to open the <span class="bold"><strong>[Schema]</strong></span> dialog box.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-7.png"></div></li><li class="step" title="Step 4"><p>From the <span class="bold"><strong>Type</strong></span> list for the <span class="bold"><strong>message</strong></span> column, select <span class="bold"><strong>Document</strong></span> to handle XML format files, and then click
                            <span class="bold"><strong>OK</strong></span> to close the dialog box.</p></li></ol></div></div><div class="section" title="Saving and executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e214428"></a>Saving and executing the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press <span class="bold"><strong>Ctrl+S</strong></span> to save your Job.</p></li><li class="step" title="Step 2"><p>Press <span class="bold"><strong>F6</strong></span> or click <span class="bold"><strong>Run</strong></span> on the <span class="bold"><strong>Run</strong></span> tab to
                        execute the Job.</p><p>The XML files in the specified folder are written to the message queue and
                        then retrieved from the queue. The contents of the files are displayed on
                        the console.</p><div class="mediaobject"><img src="../images/use_case-tmominput2-8.png"></div></li></ol></div></div></div></div></body></html>