<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tRouteInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-esb.html" title="Chapter&nbsp;12.&nbsp;ESB components"><link rel="prev" href="tRouteFault.html" title="tRouteFault"><link rel="next" href="tRouteOutput.html" title="tRouteOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tRouteInput</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tRouteFault.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;12.&nbsp;ESB components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tRouteOutput.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tRouteInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tRouteInput"></a>tRouteInput</h2></div></div></div><div class="mediaobject"><img src="../images/tRouteInput_icon32_white.png"></div><div class="section" title="tRouteInput properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e210123"></a>tRouteInput properties</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p> This component is available to ESB Studio users only.</p></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>ESB/Route</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tRouteInput</strong></span> accepts messages from a Route.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tRouteInput</strong></span> allows you to accept messages from a
								Route.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Input Schema</em></span>
							</p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of fields that will be
								processed and passed on to the next component. The schema is either
									<span class="emphasis"><strong>Built-in</strong></span> or remote in the
									<span class="emphasis"><strong>Repository</strong></span>. </p>
							<p>Click <span class="emphasis"><strong>Edit Schema</strong></span> to make changes
								to the schema.</p>
							<p>Click <span class="emphasis"><strong>Sync columns</strong></span> to retrieve
								the schema from the previous component connected in the Job.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
								centrally. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: Select the Repository
								file where Properties are stored. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Camel</em></span>
							</p>
						</td><td valign="top">
							<p>Enter the message parameters corresponding to the columns you defined in the schema
								dialog box via the <span class="emphasis"><strong>Edit schema</strong></span>
								button using the Simple Expression Language.</p>
							<p>For more information about the Simple Expression Language, see the
								site <a class="link" href="http://camel.apache.org/simple.html" target="_top">http://camel.apache.org/simple.html</a>.</p>
						</td></tr><tr><td valign="top"><span class="emphasis"><strong>Advanced settings</strong></span>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to gather the Job processing metadata at a
								Job level as well as at each component level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p> This component can be used as starter component and has an output. It is mandatory
								that a <span class="emphasis"><strong>tRouteInput</strong></span> component is
								used in the Data Integration Job to be called by a Route using the
									<span class="emphasis"><strong>cTalendJob</strong></span> component. The
								reason for it is that this will prevent the referenced Job to start
								automatically when deployed in Talend Runtime. Instead it will only
								start when it gets called by the Route. For more information about
								how to use the <span class="emphasis"><strong>cTalendJob</strong></span>
								component, see <span class="emphasis"><em>Talend Open Studio for ESB Mediation Components Reference Guide</em></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p> The Job using a <span class="emphasis"><strong>tRouteInput</strong></span> must be launched only
								within a Route using the <span class="emphasis"><strong>cTalendJob</strong></span>
								component.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario: Getting messages from a Route"><div class="titlepage"><div><div><h3 class="title"><a name="d0e210350"></a>Scenario: Getting messages from a Route</h3></div></div></div><p>This scenario describes how to accept messages from a Route using the <span class="emphasis"><strong>tRouteInput</strong></span> component. To do this, we need to build a Job to accept the
			message and a Route to send the message and call the Job using the <span class="emphasis"><strong>cTalendJob</strong></span> component.</p><p>For more information about how to use the Mediation components, see <span class="emphasis"><em>Talend Open Studio for ESB Mediation Components Reference Guide</em></span>.</p><div class="section" title="Creating an Data Integration Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e210366"></a>Creating an Data Integration Job</h4></div></div></div><p>In this section, we will build a Job named <span class="emphasis"><em>RouteCommunication</em></span> to
				accept the message from a Route.</p><div class="section" title="Dropping and linking the components"><div class="titlepage"><div><div><h5 class="title"><a name="d0e210374"></a>Dropping and linking the components</h5></div></div></div><div class="mediaobject"><img src="../images/use_case_trouteinput1.png"></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drag and drop a <span class="emphasis"><strong>tRouteInput</strong></span>  and a <span class="emphasis"><strong>tLogRow</strong></span>from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace.</p></li><li class="step" title="Step 2"><p>Right-click the <span class="emphasis"><strong>tRouteInput</strong></span> component, select <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>
							from the contextual menu and click the <span class="emphasis"><strong>tLogRow</strong></span> component.</p></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h5 class="title"><a name="d0e210408"></a>Configuring the components</h5></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="emphasis"><strong>tRouteInput</strong></span> component to open its
								<span class="emphasis"><strong>Basic settings</strong></span> view in the
								<span class="emphasis"><strong>Component</strong></span> tab.</p><div class="mediaobject"><img src="../images/use_case_trouteinput2.png"></div></li><li class="step" title="Step 2"><p>Click the three-dot button next to <span class="emphasis"><strong>Edit
								Schema</strong></span>. In the schema dialog box, click the plus button
							to add a new line of <span class="emphasis"><strong>String</strong></span> type and
							name it <span class="emphasis"><em>body</em></span>. Click <span class="emphasis"><strong>OK</strong></span> to close the dialog box. </p><div class="mediaobject"><img src="../images/use_case_trouteinput3.png"></div></li><li class="step" title="Step 3"><p>In the <span class="emphasis"><strong>Simple Expression</strong></span> field for the
								<span class="emphasis"><em>body</em></span> element, enter <code class="code">"${in.body}"</code>
							to get the body of the input message from the Route.</p></li><li class="step" title="Step 4"><p>The <span class="emphasis"><strong>tLogRow</strong></span> component will monitor
							the message exchanges and does not need any configuration.</p></li><li class="step" title="Step 5"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job.</p></li></ol></div></div></div><div class="section" title="Creating a Mediation Route"><div class="titlepage"><div><div><h4 class="title"><a name="d0e210469"></a>Creating a Mediation Route</h4></div></div></div><p>In this section, we will switch to the <span class="emphasis"><strong>Mediation</strong></span>
				perspective and create a Route to send the message to the Job.</p><div class="section" title="Dropping and linking the components"><div class="titlepage"><div><div><h5 class="title"><a name="d0e210477"></a>Dropping and linking the components</h5></div></div></div><div class="mediaobject"><img src="../images/use_case_trouteinput4.png"></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drag and drop a <span class="emphasis"><strong>cMessagingEndpoint</strong></span>, a <span class="emphasis"><strong>cSetBody</strong></span>, and a <span class="emphasis"><strong>cTalendJob</strong></span> from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace.</p></li><li class="step" title="Step 2"><p>Link the components with the <span class="emphasis"><strong>Row</strong></span> &gt;
								<span class="emphasis"><strong>Route</strong></span> connection as shown
							above.</p></li><li class="step" title="Step 3"><p>Label the components for better identification of their roles.</p></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h5 class="title"><a name="d0e210511"></a>Configuring the components</h5></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="emphasis"><strong>cMessagingEndpoint</strong></span>
							component to open its <span class="emphasis"><strong>Basic settings</strong></span>
							view in the <span class="emphasis"><strong>Component</strong></span> tab.</p><div class="mediaobject"><img src="../images/use_case_trouteoutput6.png"></div></li><li class="step" title="Step 2"><p>In the <span class="emphasis"><strong>URI</strong></span> field, enter
								<code class="code">"timer://myTimer?period=2000"</code> to start message
							exchanges every 2000 milliseconds.</p></li><li class="step" title="Step 3"><p>Double click the <span class="emphasis"><strong>cSetBody</strong></span> component
							to display its <span class="emphasis"><strong>Basic settings</strong></span> view in
							the <span class="emphasis"><strong>Component</strong></span> tab.</p><div class="mediaobject"><img src="../images/use_case_trouteinput5.png"></div></li><li class="step" title="Step 4"><p>Select <span class="emphasis"><strong>Simple</strong></span> from the <span class="emphasis"><strong>Language</strong></span> list and enter <code class="code">Hello!</code> in the
								<span class="emphasis"><strong>Expression</strong></span> field.</p></li><li class="step" title="Step 5"><p>Double-click the <span class="emphasis"><strong>cTalendJob</strong></span> component
							to display its <span class="emphasis"><strong>Basic settings</strong></span> view in
							the <span class="emphasis"><strong>Component</strong></span> tab.</p><div class="mediaobject"><img src="../images/use_case_trouteoutput7.png"></div></li><li class="step" title="Step 6"><p>Select Job <span class="emphasis"><em>RouteCommunication</em></span> from the
							repository.</p></li><li class="step" title="Step 7"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your
							Route.</p></li></ol></div></div><div class="section" title="Executing the Route"><div class="titlepage"><div><div><h5 class="title"><a name="d0e210596"></a>Executing the Route</h5></div></div></div><p>Click the <span class="emphasis"><strong>Run</strong></span> view to display it and click
					the <span class="emphasis"><strong>Run</strong></span> button to launch the execution of your
					Route. You can also press <span class="emphasis"><strong>F6</strong></span> to execute it. In
					the execution log you will see:</p><div class="mediaobject"><img src="../images/use_case_trouteinput6.png"></div></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tRouteFault.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-esb.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tRouteOutput.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tRouteFault&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tRouteOutput</td></tr></table></div></body></html>