<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tPigFilterRow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tdi-components-rg-en..html" title="Talend Components"><link rel="up" href="ch-bigdata.html" title="Chapter&nbsp;1.&nbsp;Big Data components"><link rel="prev" href="tPigFilterColumns.html" title="tPigFilterColumns"><link rel="next" href="tPigJoin.html" title="tPigJoin"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tPigFilterRow</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tPigFilterColumns.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Big Data components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tPigJoin.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tPigFilterRow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tPigFilterRow"></a>tPigFilterRow</h2></div></div></div><div class="mediaobject"><img src="../images/tPigFilterRow_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><span class="emphasis"><em>This component will be available in the <span class="emphasis"><strong>Palette</strong></span> of the studio on the condition that you have subscribed to
				the relevant edition of <span class="emphasis"><em>Talend Big Data Studio</em></span>.</em></span>
		</p></div><div class="section" title="tPigFilterRow Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e24273"></a>tPigFilterRow Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Big Data / Hadoop</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>The <span class="emphasis"><strong>tPigFilterRow</strong></span> component
								filters the input flow in a Pig chain based on conditions set on
								given column(s).</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component is used to filter the input flow in a Pig chain
								based on conditions set on one or more columns.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								Schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of
								fields that will be processed and passed on to the next component.
									The schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in the
										<span class="emphasis"><strong>Repository</strong></span>.</p>
							<p>If you are using <span class="emphasis"><em>Talend Open Studio for Big Data</em></span>, only the <span class="emphasis"><strong>Built-in</strong></span> mode is available.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: The schema will be
								created and stored locally for this component only. Related topic:
								see <span class="emphasis"><em>Talend Data Integration Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: The schema already
								exists and is stored in the Repository, hence can be reused in
								various projects and Job designs. Related topic: see
										<span class="emphasis"><em>Talend Data Integration Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Filter configuration</em></span>
							</p>
						</td><td valign="top">
							<p>Click the <span class="emphasis"><strong>Add</strong></span> button beneath the
									<span class="emphasis"><strong>Filter configuration</strong></span> table to
								set one or more filter conditions.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This table disappears if you select <span class="emphasis"><strong>Use
										advanced filter</strong></span>.</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use advanced filter</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to define advanced filter condition by
								entering customized filter expression in the <span class="emphasis"><strong>Filter</strong></span> field.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to gather the Job processing metadata at the
								Job level as well as at each component level. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component is commonly used as an intermediate step in a Pig
								chain.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Prerequisites</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>The Hadoop distribution must be properly installed, so as to guarantee the interaction
		with the Studio.</p>
							<p>For example, if you need to connect to MapR from the Studio, ensure that you have installed
		the MapR client in the machine where the Studio is, and added the MapR client library to the
		PATH variable of that machine. For Windows, this library is <span class="emphasis"><em>lib\MapRClient.dll</em></span> in the MapR client jar file; without adding it, you may
		encounter the following error: <code class="code">no MapRClient in java.library.path</code>.</p>
							<p>For further information about how to install an Hadoop distribution, see the manuals
		corresponding to the Hadoop distribution you are using.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Knowledge of Pig scripts is required.</p>
						</td></tr></tbody></table></div><p>
			<span>&nbsp;</span>
		</p></div><div class="section" title="Scenario: Filtering rows of data based on a condition and saving the result to a local file"><div class="titlepage"><div><div><h3 class="title"><a name="Raa73213"></a>Scenario: Filtering rows of data based on a condition and saving the result to a
			local file</h3></div></div></div><p>This scenario describes a four-component Job that filters a list of customers to find
			out customers from a particular country, and saves the result list to a local file.
			Before the input data is filtered, duplicate entries are first removed from the list. </p><p>The input file contains three columns: <span class="emphasis"><em>Name</em></span>,
				<span class="emphasis"><em>Country</em></span>, and <span class="emphasis"><em>Age</em></span>, and it has some duplicate entries, as shown below:</p><pre class="programlisting">Mario;PuertoRico;49
Mike;USA;22
Ricky;PuertoRico;37
Silvia;Spain;20
Billy;Canada;21
Ricky;PuertoRico;37
Romeo;UK;19
Natasha;Russia;25
Juan;Cuba;23
Bob;Jamaica;55
Mario;PuertoRico;49</pre><div class="section" title="Dropping and linking components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e24561"></a>Dropping and linking components</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> to the design workspace: <span class="emphasis"><strong>tPigLoad</strong></span>, <span class="emphasis"><strong>tPigDistinct</strong></span>,
							<span class="emphasis"><strong>tPigFilterRow</strong></span>, and <span class="emphasis"><strong>tPigStoreResult</strong></span>.</p></li><li class="step" title="Step 2"><p>Right-click <span class="emphasis"><strong>tPigLoad</strong></span>, select <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Pig
							Combine</strong></span> from the contextual menu, and click <span class="emphasis"><strong>tPigDistinct</strong></span> to link these two components.</p></li><li class="step" title="Step 3"><p>Repeat this operation to link <span class="emphasis"><strong>tPigDistinct</strong></span> to <span class="emphasis"><strong>tPigFilterRow</strong></span>, and <span class="emphasis"><strong>tPigFilterRow</strong></span> to <span class="emphasis"><strong>tPigStoreResult</strong></span> using <span class="emphasis"><strong>Row</strong></span> &gt;
							<span class="emphasis"><strong>Pig Combine</strong></span> connections to form a Pig
						chain.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow1.png"></div></li></ol></div></div><div class="section" title="Configuring the components"><div class="titlepage"><div><div><h4 class="title"><a name="d0e24622"></a>Configuring the components</h4></div></div></div><div class="procedure" title="Procedure&nbsp;1.13.&nbsp;Loading the input data and removing duplicates"><a name="d0e24625"></a><p class="title"><b>Procedure&nbsp;1.13.&nbsp;Loading the input data and removing duplicates</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tPigLoad</strong></span> to open its
							<span class="emphasis"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow2.png"></div></li><li class="step" title="Step 2"><p>Click the <span class="emphasis"><strong>[...]</strong></span> button next to <span class="emphasis"><strong>Edit schema</strong></span> to open the <span class="emphasis"><strong>[Schema]</strong></span> dialog box.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow3.png"></div></li><li class="step" title="Step 3"><p>Click the <span class="emphasis"><strong>[+]</strong></span> button to add three columns
						according to the data structure of the input file: <span class="emphasis"><em>Name</em></span>
						(string), <span class="emphasis"><em>Country</em></span> (string) and <span class="emphasis"><em>Age</em></span>
						(integer), and then click <span class="emphasis"><strong>OK</strong></span> to save the
						setting and close the dialog box.</p></li><li class="step" title="Step 4"><p>Click <span class="emphasis"><strong>Local</strong></span> in the <span class="emphasis"><strong>Mode</strong></span> area.</p></li><li class="step" title="Step 5"><p>Fill in the <span class="emphasis"><strong>Input file URI</strong></span> field with the
						full path to the input file.</p></li><li class="step" title="Step 6"><p>Select <span class="emphasis"><strong>PigStorage</strong></span> from the <span class="emphasis"><strong>Load function</strong></span> list, and leave rest of the
						settings as they are.</p></li><li class="step" title="Step 7"><p>Double-click <span class="emphasis"><strong>tPigDistinct</strong></span> to open its
							<span class="emphasis"><strong>Basic settings</strong></span> view, and click
							<span class="emphasis"><strong>Sync columns</strong></span> to make sure that the
						input schema structure is correctly propagated from the preceding
						component.</p><p>This component will remove any duplicates from the data flow.</p></li></ol></div><div class="procedure" title="Procedure&nbsp;1.14.&nbsp;Configuring the filter"><a name="d0e24711"></a><p class="title"><b>Procedure&nbsp;1.14.&nbsp;Configuring the filter</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tPigFilterRow</strong></span> to open its
							<span class="emphasis"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow4.png"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to make sure that the
						input schema structure is correctly propagated from the preceding
						component.</p></li><li class="step" title="Step 3"><p>Select <span class="emphasis"><strong>Use advanced filter</strong></span> and fill in
						the <span class="emphasis"><strong>Filter</strong></span> field with filter
						expression:</p><pre class="programlisting">"Country matches 'PuertoRico'"</pre><p>This filter expression selects rows of data that contains "PuertoRico" in
						the <span class="emphasis"><em>Country</em></span> column.</p></li></ol></div><div class="procedure" title="Procedure&nbsp;1.15.&nbsp;Configuring the file output"><a name="d0e24748"></a><p class="title"><b>Procedure&nbsp;1.15.&nbsp;Configuring the file output</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click <span class="emphasis"><strong>tPigStoreResult</strong></span> to open its
							<span class="emphasis"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow5.png"></div></li><li class="step" title="Step 2"><p>Click <span class="emphasis"><strong>Sync columns</strong></span> to make sure that the
						input schema structure is correctly propagated from the preceding
						component.</p></li><li class="step" title="Step 3"><p>Fill in the <span class="emphasis"><strong>Result file</strong></span> field with the
						full path to the result file.</p></li><li class="step" title="Step 4"><p>If the target file already exists, select the <span class="emphasis"><strong>Remove
							result directory if exists</strong></span> check box. </p></li><li class="step" title="Step 5"><p>Select <span class="emphasis"><strong>PigStorage</strong></span> from the <span class="emphasis"><strong>Store function</strong></span> list, and leave rest of the
						settings as they are.</p></li></ol></div></div><div class="section" title="Saving and executing the Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e24790"></a>Saving and executing the Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save your Job.</p></li><li class="step" title="Step 2"><p>Press <span class="emphasis"><strong>F6</strong></span> or click the <span class="emphasis"><strong>Run</strong></span> button on the <span class="emphasis"><strong>Run</strong></span> tab to run the Job.</p><p>The result file contains the information of customers from the specified
						country.</p><div class="mediaobject"><img src="../images/Use_Case_tPigFilterRow6.png"></div></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tPigFilterColumns.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-bigdata.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tPigJoin.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tPigFilterColumns&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tdi-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tPigJoin</td></tr></table></div></body></html>