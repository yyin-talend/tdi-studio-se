<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSQLiteRow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-databases-other.html" title="Chapter&nbsp;9.&nbsp;Databases - other components"><link rel="prev" href="tSQLiteRollback.html" title="tSQLiteRollback"><link rel="next" href="ch-dotnet.html" title="Chapter&nbsp;10.&nbsp;DotNET components"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tSQLiteRow</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tSQLiteRollback.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;9.&nbsp;Databases - other components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch-dotnet.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tSQLiteRow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSQLiteRow"></a>tSQLiteRow</h2></div></div></div><div class="mediaobject"><img src="../images/tSQLiteRow_icon32_white.png"></div><div class="section" title="tSQLiteRow Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e186149"></a>tSQLiteRow Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Databases</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tSQLiteRow</strong></span> executes the defined
								query onto the specified database and uses the parameters bound with
								the column.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>A prepared statement uses the input flow to replace the
								placeholders with the values for each parameters defined. This
								component can be very useful for updates.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Property type</em></span>
							</p>
						</td><td valign="top">
							<p><span>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: No property data stored
								centrally.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: Select the repository
								file in which the properties are stored. The fields that follow are
								completed automatically using the data retrieved.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use an existing connection</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box and in the <span class="emphasis"><strong>Component List</strong></span> click the
		relevant connection component to reuse the connection details you already defined.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When a Job contains the parent Job and the child Job, if you need to share an existing
			connection between the two levels, for example, to share the connection created by the
			parent Job with the child Job, you have to: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the parent level, register the DB connection to be shared in the
							<span class="emphasis"><strong>Basic settings</strong></span> view of the connection
						component which creates that very DB connection.</p></li><li class="listitem"><p>In the child level, use a dedicated connection component to read that
						registered DB connection.</p></li></ol></div><p>For an example about how to share a DB connection across Job levels,see
					<span class="emphasis"><em>Talend Open Studio
				User Guide</em></span>.</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								Schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, i.e., it defines the number of
								fields to be processed and passed on to the next component. <span>The schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in the
										<span class="emphasis"><strong>Repository</strong></span></span>. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: The schema is created
								and stored locally for this component only. Related topic: see
										<span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: The schema already
								exists and is stored in the Repository, hence can be reused. Related
								topic :see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Query type</em></span>
							</p>
						</td><td valign="top">
							<p><span>Either <span class="emphasis"><strong>Built-in</strong></span> or <span class="emphasis"><strong>Repository</strong></span></span>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: Fill in manually the
								query statement or build it graphically using SQLBuilder</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: Select the relevant
								query stored in the Repository. The Query field gets accordingly
								filled in.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Query</em></span>
							</p>
						</td><td valign="top">
							<p>Enter your DB query paying particularly attention to properly
								sequence the fields in order to match the schema definition. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Die on error</em></span>
							</p>
						</td><td valign="top">
							<p>Clear this check box to skip the row on error and complete the
								process for error-free rows. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Propagate QUERY&#8217;s recordset</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to insert the result of the query into a
								COLUMN of the current flow. Select this column from the <span class="emphasis"><strong>use column</strong></span> list.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This option allows the component to have a different schema
									from that of the preceding component. Moreover, the column that
									holds the QUERY&#8217;s recordset should be set to the type of
										<span class="emphasis"><em>Object</em></span> and this component
									is usually followed by <span class="emphasis"><strong>tParseRecordSet</strong></span>.</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Use PreparedStatement</em></span>
							</p>
						</td><td valign="top">
							<p>Select this checkbox if you want to query the database using a
								PreparedStatement. In the <span class="emphasis"><strong>Set
									PreparedStatement Parameter </strong></span>table, define the
								parameters represented by &#8220;?&#8221; in the SQL instruction of the
									<span class="emphasis"><strong>Query</strong></span> field in the <span class="emphasis"><strong>Basic Settings</strong></span> tab.</p>
							<p>
								<span class="emphasis"><strong>Parameter Index</strong></span>: Enter the
								parameter position in the SQL instruction.</p>
							<p>
								<span class="emphasis"><strong>Parameter Type</strong></span>: Enter the parameter
								type.</p>
							<p>
								<span class="emphasis"><strong>Parameter Value</strong></span>: Enter the
								parameter value.</p>
							<p> </p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This option is very useful if you need to execute the same
									query several times. Performance levels are increased</p></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>Commit every</em></span>
							</p>
						</td><td valign="top">
							<p>Number of rows to be completed before committing batches of rows
								together into the DB. This option ensures transaction quality (but
								not rollback) and above all better performance on executions.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStat</em></span>
								<span class="emphasis"><em>Catcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to collect log data at the component
								level.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Dynamic settings</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Click the <span class="emphasis"><strong>[+]</strong></span> button to add a row in the table and fill
		the <span class="emphasis"><strong>Code</strong></span> field with a context variable to choose your
		database connection dynamically from multiple connections planned in your Job. This feature
		is useful when you need to access database tables having the same data structure but in
		different databases, especially when you are working in an environment where you cannot
		change your Job settings, for example, when your Job has to be deployed and executed
		independent of <span class="emphasis"><strong>Talend</strong></span> Studio.</p>
							<p>The <span class="emphasis"><strong>Dynamic settings</strong></span> table is available only when the
			<span class="emphasis"><strong>Use an existing connection</strong></span> check box is selected in the
			<span class="emphasis"><strong>Basic settings</strong></span> view. When a dynamic parameter is
		defined, the <span class="emphasis"><strong>Component List</strong></span> box in the <span class="emphasis"><strong>Basic settings</strong></span> view becomes unusable. </p>
							<p>For more information on <span class="emphasis"><strong>Dynamic settings</strong></span> and context
		variables, see <span class="emphasis"><em>Talend Open Studio User Guide</em></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component offers the flexibility of the DB query and covers
								all possible SQL queries.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Scenario: Updating SQLite rows"><div class="titlepage"><div><div><h3 class="title"><a name="d0e186673"></a>Scenario: Updating SQLite rows</h3></div></div></div><p>This scenario describes a job which updates an SQLite database file based on a
			prepared statement and using a delimited file.</p><div class="mediaobject"><img src="../images/Use_Case_tSQLiteRow1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop a <span class="emphasis"><strong>tFileInputDelimited</strong></span> and a <span class="emphasis"><strong>tSQLiteRow</strong></span> component from the <span class="emphasis"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p> On the <span class="emphasis"><strong>tFileInputDelimited</strong></span>
					<span class="emphasis"><strong>Basic settings </strong></span>panel, browse to the input file
					that will be used to update rows in the database.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSQLiteRow2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> There is no <span class="emphasis"><strong>Header</strong></span> nor <span class="emphasis"><strong>Footer</strong></span>. The <span class="emphasis"><strong>Row separator</strong></span> is a
					carriage return and the <span class="emphasis"><strong>Field separator</strong></span> is a
					semi-colon. </p></li><li class="listitem"><p>Click the <span class="emphasis"><strong>[...]</strong></span> button next to <span class="emphasis"><strong>Edit schema</strong></span> and define the schema structure<span> in case it is not stored in the <span class="emphasis"><strong>Repository</strong></span></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSQLiteRow3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Make sure the length and type are respectively correct and large enough to
					define the columns.</p></li><li class="listitem"><p> Then in the <span class="emphasis"><strong>tSQLiteRow</strong></span>
					<span class="emphasis"><strong>Basic settings</strong></span> panel, set the <span class="emphasis"><strong>Database</strong></span> filepath to the file to be updated.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSQLiteRow3_.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> The schema is read-only as it is required to match the input schema.</p></li><li class="listitem"><p> Type in the query<span> or retrieve it from the
						Repository</span>. In this use case, we updated the
						<span class="emphasis"><em>type_os</em></span> for the&nbsp;<span class="emphasis"><em>id</em></span> defined in the
					Input flow. The statement is as follows: <code class="code">&#8220;Update download set type_os=?
						where id=?&#8221;</code>.</p></li><li class="listitem"><p> Then select the <span class="emphasis"><strong>Use PreparedStatement</strong></span> check
					box to display the placeholders&#8217; parameter table.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSQLiteRow4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the Input parameters table, add as many lines as necessary to cover all
					placeholders. In this scenario, <span class="emphasis"><em>type_os</em></span> and
						<span class="emphasis"><em>id</em></span> are to be defined.</p></li><li class="listitem"><p> Set the <span class="emphasis"><strong>Commit every</strong></span> field.</p></li><li class="listitem"><p> Save the job and press <span class="emphasis"><strong>F6</strong></span> to run it. </p></li></ul></div><p>The <span class="emphasis"><em>download</em></span> table from the SQLite database is thus updated with
			new <span class="emphasis"><em>type_os</em></span> code according to the delimited input file.</p></div><div class="section" title="Related scenarios"><div class="titlepage"><div><div><h3 class="title"><a name="d0e186816"></a>
			<span>Related scenarios</span>
		</h3></div></div></div><p>
			<span>For a related scenario, see:</span>
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="xref" href="tMysqlRow.html#andy-20121018-database-tmysqlrow-combining_two_flows_for_selective_output" title="Scenario 3: Combining two flows for selective output">the section called &#8220;Scenario 3: Combining two flows for selective output &#8221;</a>
				</p></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tSQLiteRollback.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-databases-other.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch-dotnet.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tSQLiteRollback&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;10.&nbsp;DotNET components</td></tr></table></div></body></html>