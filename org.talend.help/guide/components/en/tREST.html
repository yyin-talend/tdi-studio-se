<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tREST</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-en..html" title="Talend Open Studio Components"><link rel="up" href="ch-internet.html" title="Chapter&nbsp;14.&nbsp;Internet components"><link rel="prev" href="tPOP.html" title="tPOP"><link rel="next" href="tRSSInput.html" title="tRSSInput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tREST</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tPOP.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;14.&nbsp;Internet components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tRSSInput.html">Next</a></td></tr></table><hr></div><div lang="EN" class="section" title="tREST"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tREST"></a>tREST</h2></div></div></div><div class="mediaobject"><img src="../images/tREST_icon32_white.png"></div><div class="section" title="tREST properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e244069"></a>tREST properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
                            <p><span class="emphasis"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>Internet </p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>The <span class="emphasis"><strong>tREST </strong></span>component sends HTTP
                                requests to a REpresentational State Transfer (REST) Web service
                                provider and gets responses correspondingly.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>The <span class="emphasis"><strong>tREST</strong></span> component serves as a
                                REST Web service client that sends HTTP requests to a REST Web
                                service provider and gets the responses.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
                                Schema</em></span></p>
                        </td><td valign="top">
                            <p>A schema is a row description, i.e., it defines the number of
                                fields that will be processed and passed on to the next component. </p>
                            <p> This component always uses a built-in, read-only schema that
                                contains two columns:</p>
                            <p> - <span class="emphasis"><strong>Body</strong></span>: stores the result from
                                the server end.</p>
                            <p> - <span class="emphasis"><strong>ERROR_CODE</strong></span>: stores the HTTP
                                status code from the server end when an error occurs during the
                                invocation process. The specific meanings of the errors codes are
                                subject to definitions of your Web service provider. For reference
                                information, visit <a class="link" href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_top">en.wikipedia.org/wiki/List_of_HTTP_status_codes</a>.</p>
                            <p> </p>
                            <p> Click <span class="emphasis"><strong>Edit Schema</strong></span> to view the
                                schema structure. </p>
                            <div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
                                    <span class="emphasis"><em>Changing the schema type may result in loss of the
                                        schema structure and therefore failure of the
                                        component.</em></span></p></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>URL</em></span></p>
                        </td><td valign="top">
                            <p>Type in the URL address of the REST Web server to be invoked.
                            </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>HTTP Method</em></span></p>
                        </td><td valign="top">
                            <p>From this list, select an HTTP method that describes the desired
                                action. The specific meanings of the HTTP methods are subject to
                                definitions of your Web service provider. Listed below are the
                                generally accepted HTTP method definitions: </p>
                            <p>
                                <span class="emphasis"><strong>- GET</strong></span>: retrieves data from the
                                server end based on the given parameters.</p>
                            <p>
                                <span class="emphasis"><strong>- POST</strong></span>: creates and uploads data
                                based on the given parameters.</p>
                            <p>
                                <span class="emphasis"><strong>- PUT</strong></span>: updates data based on the
                                given parameters, or if the data does not exist, creates it.</p>
                            <p>
                                <span class="emphasis"><strong>- DELETE</strong></span>: removes data based on the
                                given parameters. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>HTTP Headers</em></span></p>
                        </td><td valign="top">
                            <p>Type in the name-value pair(s) for HTTP headers to define the
                                parameters of the requested HTTP operation.</p>
                            <p> For the specific definitions of HTTP headers, consult your REST
                                Web service provider. For reference information, visit <a class="link" href="http://en.wikipedia.org/wiki/List_of_HTTP_headers" target="_top">en.wikipedia.org/wiki/List_of_HTTP_headers</a>.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>HTTP Body</em></span></p>
                        </td><td valign="top">
                            <p>Type in the payload to be uploaded to the server end when the
                                    <span class="emphasis"><strong>POST</strong></span> or <span class="emphasis"><strong>PUT</strong></span> action is selected. </p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Advanced settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>tStatCatcher Statistics</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to gather the Job processing metadata at the
                                Job level as well as at each component level.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>Use this component as a REST Web service client to communicate
                                with a REST Web service provider. It must be linked to an output
                                component.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>JRE 1.6 must be running for this component to work
                                properly.</p>
                        </td></tr></tbody></table></div></div><div class="section" title="Scenario: Creating and retrieving data by invoking REST Web service"><div class="titlepage"><div><div><h3 class="title"><a name="d0e244321"></a>Scenario: Creating and retrieving data by invoking REST Web service</h3></div></div></div><p>This scenario describes a simple Job that invokes a REST Web service to create a new
            customer record on the server end and then retrieve the customer information. When
            executed, the Job displays relevant information on the <span class="emphasis"><strong>Run</strong></span> console.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace: two <span class="emphasis"><strong>tREST</strong></span> components and two <span class="emphasis"><strong>tLogRow</strong></span> components, and label the two <span class="emphasis"><strong>tREST</strong></span> components to best describe the actions to perform.</p></li><li class="listitem"><p> Connect each <span class="emphasis"><strong>tREST</strong></span> to one <span class="emphasis"><strong>tLogRow</strong></span> using a <span class="emphasis"><strong>Row</strong></span>
                    &gt; <span class="emphasis"><strong>Main</strong></span> connection.</p></li><li class="listitem"><p> Connect the first <span class="emphasis"><strong>tREST</strong></span> to the second
                        <span class="emphasis"><strong>tREST</strong></span> using a <span class="emphasis"><strong>Trigger</strong></span> &gt; <span class="emphasis"><strong>OnSubjobOK</strong></span>
                    connection.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tREST01.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Double click the first <span class="emphasis"><strong>tREST</strong></span> component to
                    open its <span class="emphasis"><strong>Basic settings</strong></span> view.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tREST02.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Fill the <span class="emphasis"><strong>URL</strong></span> field with the URL of the Web
                    service you are going to invoke. Note that the URL provided in this use case is
                    for demonstration purpose only and is not a live address.</p></li><li class="listitem"><p> From the <span class="emphasis"><strong>HTTP Method</strong></span> list, select <span class="emphasis"><strong>POST</strong></span> to send an HTTP request for creating a new
                    record.</p></li><li class="listitem"><p> Click the plus button to add a line in the <span class="emphasis"><strong>HTTP
                        Headers</strong></span> table, and type in the appropriate name-value key pair,
                    which is subject to definition of your service provider, to indicate the media
                    type of the payload to send to the server end. In this use case, type in
                        <span class="emphasis"><em>Content-Type</em></span> and <span class="emphasis"><em>application/xml</em></span>.
                    For reference information about Internet media types, visit <a class="link" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7" target="_top">www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7</a>. </p></li><li class="listitem"><p> Fill the <span class="emphasis"><strong>HTTP Body</strong></span> field with the payload to
                    be uploaded to the server end. In this use case, type in
                        <span class="emphasis"><em>&lt;Customer&gt;&lt;name&gt;Steven&lt;/name&gt;&lt;/Customer</em></span>&gt;
                    to create a record for a new customer named <span class="emphasis"><em>Steven</em></span>. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If you want to include double quotation marks in your payload, be sure to use a
				backslash escape character before each of the quotation marks. In this use case, for
				example, type in
					<span class="emphasis"><em>&lt;Customer&gt;&lt;name&gt;\"Steven\"&lt;/name&gt;&lt;/Customer&gt;</em></span>
				if you want to enclose the name <span class="emphasis"><em>Steven</em></span> in a pair of double
				quotation marks.</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Double click the second <span class="emphasis"><strong>tREST</strong></span> component to
                    open its <span class="emphasis"><strong>Basic settings</strong></span> view.</p></li><li class="listitem"><p> Fill the <span class="emphasis"><strong>URL</strong></span> field with the same URL.</p></li><li class="listitem"><p> From the <span class="emphasis"><strong>HTTP Method</strong></span> list, select <span class="emphasis"><strong>GET</strong></span> to send an HTTP request for retrieving the
                    existing records.</p></li><li class="listitem"><p> In the <span class="emphasis"><strong>Basic settings</strong></span> view of each <span class="emphasis"><strong>tLogRow</strong></span>, select the <span class="emphasis"><strong>Print
                        component unique name in front of each output row</strong></span> and <span class="emphasis"><strong>Print schema column name in front of each value</strong></span> check
                    boxes for better identification of the output flows.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tREST03.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Save your Job and press <span class="emphasis"><strong>F6</strong></span> to launch it. </p><p> The console shows that the first <span class="emphasis"><strong>tREST</strong></span>
                    component sends an HTTP request to the server end to create a new customer named
                        <span class="emphasis"><em>Steven</em></span>, and the second <span class="emphasis"><strong>tREST</strong></span> component successfully reads data from the server end,
                    which includes the information of the new customer you just created.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tREST04.png"></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tPOP.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-internet.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tRSSInput.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tPOP&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tRSSInput</td></tr></table></div></body></html>