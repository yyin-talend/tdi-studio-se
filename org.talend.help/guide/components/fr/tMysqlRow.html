<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMysqlRow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-components-rg-fr..html" title="Composants Talend Open Studio"><link rel="up" href="ch-databases-traditional.html" title="Chapitre&nbsp;7.&nbsp;Databases - Composants traditionnels"><link rel="prev" href="tMysqlRollback.html" title="tMysqlRollback"><link rel="next" href="tMysqlSP.html" title="tMysqlSP"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tMysqlRow</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tMysqlRollback.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><th width="60%" align="center">Chapitre&nbsp;7.&nbsp;Databases - Composants traditionnels</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tMysqlSP.html">Suivant</a></td></tr></table><hr></div><div lang="FR" class="section" title="tMysqlRow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMysqlRow"></a>tMysqlRow</h2></div></div></div><div class="mediaobject"><img src="../images/tMysqlRow_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tMysqlRow"><div class="titlepage"><div><div><h3 class="title"><a name="Raa13214"></a>Propri&eacute;t&eacute;s du tMysqlRow</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top"><p><span class="emphasis"><strong>Famille de
									composant</strong></span></p>
						</td><td valign="top"><p>Databases/MySQL</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Fonction</strong></span></p>
						</td><td colspan="2" valign="top"><p>Le <span class="emphasis"><strong>tMysqlRow</strong></span> est le composant sp&eacute;cifique &agrave; ce type de
								base de donn&eacute;es. Il ex&eacute;cute des requ&ecirc;tes SQL d&eacute;clar&eacute;es sur la base
								de donn&eacute;es sp&eacute;cifi&eacute;e. Le suffixe Row signifie que le composant met
								en place un flux dans le Job bien que ce composant ne produise pas
								de donn&eacute;es en sortie.</p>
						</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Objectif</strong></span></p>
						</td><td colspan="2" valign="top"><p>Selon la nature de la
								requ&ecirc;te et de la base de donn&eacute;es, <span class="emphasis"><strong>tMysqlRow</strong></span> agit sur la structure m&ecirc;me de la base de
								donn&eacute;es ou sur les donn&eacute;es (mais sans les manipuler). Le SQLBuilder
								peut vous aider &agrave; rapidement et ais&eacute;ment &eacute;crire vos requ&ecirc;tes.</p>
						</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Basic
								settings</strong></span></p>
						</td><td valign="top"><p><span class="emphasis"><em>Property type</em></span></p>
						</td><td valign="top"><span>Peut &ecirc;tre <span class="emphasis"><strong>Built-in</strong></span> ou <span class="emphasis"><strong>Repository</strong></span></span>.</td></tr><tr><td><p>&nbsp;</p>
						</td><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>&nbsp;:
								Propri&eacute;t&eacute;s utilis&eacute;es ponctuellement.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository&nbsp;</strong></span>: S&eacute;lectionnez le
								fichier de propri&eacute;t&eacute;s du composant. Les champs suivants sont alors
								pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es collect&eacute;es.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>DB Version</em></span></p>
						</td><td valign="top"><p>S&eacute;lectionnez la version de MySQL que vous
								utilisez.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Use an existing
								connection</em></span></p>
						</td><td valign="top"><p lang="fr">Cochez cette case et s&eacute;lectionnez le composant de connexion ad&eacute;quat &agrave; partir de la liste
			<span class="emphasis"><strong>Component list</strong></span> pour r&eacute;utiliser les param&egrave;tres d&#8217;une
		connexion que vous avez d&eacute;j&agrave; d&eacute;finie.</p>
							<div lang="fr" class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Lorsqu&#8217;un Job contient un Job parent et un Job enfant, si vous souhaitez utiliser une
			connexion existant entre les deux niveaux, par exemple pour partager la connexion cr&eacute;&eacute;e
			par le Job parent avec le Job enfant, vous devez :</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Au niveau parent, enregistrer la connexion &agrave; la base de donn&eacute;es &agrave;
						partager, dans la vue <span class="emphasis"><strong>Basic settings</strong></span> du
						composant de connexion cr&eacute;ant cette connexion.</p></li><li class="listitem"><p>Au niveau enfant, utiliser un composant d&eacute;di&eacute; &agrave; la cr&eacute;ation de connexion,
						afin de lire la connexion enregistr&eacute;e.</p></li></ol></div><p>Pour plus d&#8217;informations concernant le partage d&#8217;une connexion &agrave; travers diff&eacute;rents
			niveaux de Jobs, consultez le <span class="emphasis"><em>Guide utilisateur de</em></span>
			<span class="emphasis"><em>Talend Open Studio</em></span>.</p></div>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Host</em></span></p>
						</td><td valign="top"><p>Adresse IP du serveur de base de donn&eacute;es.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Port</em></span></p>
						</td><td valign="top"><p>Num&eacute;ro du port d&#8217;&eacute;coute du serveur de base de
								donn&eacute;es.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Database</em></span></p>
						</td><td valign="top"><p>Nom de la base de donn&eacute;es.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Username</em></span> et
									<span class="emphasis"><em>Password</em></span></p>
						</td><td valign="top"><p>Informations d&#8217;authentification de l&#8217;utilisateur
								de base de donn&eacute;es.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
									Schema</em></span></p>
						</td><td valign="top">
							<p>Un sch&eacute;ma est une description de lignes, il d&eacute;finit le nombre de champs qui sont
								trait&eacute;s et pass&eacute;s au composant suivant. <span>Le sch&eacute;ma peut &ecirc;tre <span class="emphasis"><strong>Built-in</strong></span> ou distant dans le <span class="emphasis"><strong>Repository</strong></span></span>.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><strong>Built-in</strong></span>&nbsp;: Le
								sch&eacute;ma est cr&eacute;&eacute; et conserv&eacute; ponctuellement pour ce composant
								seulement. Voir &eacute;galement&nbsp;le <span class="emphasis"><em>Guide
									utilisateur de</em></span>
								<span class="emphasis"><em>Talend Open Studio</em></span>.
							</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository&nbsp;</strong></span>: Le sch&eacute;ma existe
								d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut &ecirc;tre
								r&eacute;utilis&eacute;. Voir &eacute;galement&nbsp;le <span class="emphasis"><em>Guide
									utilisateur de </em></span><span class="emphasis"><em>Talend Open Studio</em></span>. </p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Table Name</em></span></p>
						</td><td valign="top"><p>Nom de la table &agrave; traiter.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Query type</em></span></p>
						</td><td valign="top">
							<p><span>La requ&ecirc;te peut &ecirc;tre <span class="emphasis"><strong>Built-in</strong></span> ou distante dans le
										<span class="emphasis"><strong>Repository</strong></span></span>.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><strong>Built-in&nbsp;</strong></span>:
								Saisissez manuellement votre requ&ecirc;te ou construisez-la &agrave; l&#8217;aide de
								SQLBuilder.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>&nbsp;: S&eacute;lectionnez la
								requ&ecirc;te appropri&eacute;e dans le Repository. Le champ <span class="emphasis"><strong>Query</strong></span> est renseign&eacute;
								automatiquement.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Guess Query</em></span></p>
						</td><td valign="top"><p>Cliquez sur le bouton <span class="emphasis"><strong>Guess
									Query</strong></span> pour g&eacute;n&eacute;rer la requ&ecirc;te correspondant au sch&eacute;ma
								de votre table dans le champ <span class="emphasis"><strong>Query</strong></span>.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Query</em></span></p>
						</td><td valign="top"><p>Saisissez votre requ&ecirc;te en faisant
								particuli&egrave;rement attention &agrave; l&#8217;ordre des champs afin qu&#8217;ils
								correspondent &agrave; la d&eacute;finition du sch&eacute;ma.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Die on error</em></span></p>
						</td><td valign="top"><p>Cette case est coch&eacute;e par d&eacute;faut et stoppe le Job
								en cas d&#8217;erreur. D&eacute;cochez cette case pour terminer le traitement
								avec les lignes sans erreur, et ignorer les lignes en erreur. Vous
								pouvez r&eacute;cup&eacute;rer les lignes en erreur, si vous le souhaitez. Pour
								cela, utilisez un lien <span class="emphasis"><strong>Row</strong></span> &gt;
									<span class="emphasis"><strong>Rejects</strong></span>.</p>
						</td></tr><tr><td>&nbsp;</td><td valign="top">
							<span class="emphasis"><em>Specify a data source alias</em></span>
						</td><td valign="top">
							<p lang="fr">Cochez cette case et sp&eacute;cifiez l'alias de la source de donn&eacute;es cr&eacute;&eacute;e dans <span class="emphasis"><strong>Talend</strong></span>
		Runtime pour utiliser le pool de connexions partag&eacute;es d&eacute;fini dans la configuration des
		donn&eacute;es source. Cette option fonctionne lorsque vous d&eacute;ployez et ex&eacute;cutez votre Job dans
			<span class="emphasis"><strong>Talend</strong></span> Runtime. </p>
							<div lang="fr" class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Avertissement</h3><p>Si vous utilisez la configuration de la base de donn&eacute;es du composant, la connexion &agrave; votre
			source de donn&eacute;es se ferme &agrave; la fin du composant. Pour emp&ecirc;cher la fermeture de la
			connexion, utilisez une connexion partag&eacute;e &agrave; la base de donn&eacute;es, avec l'alias de la
			source de donn&eacute;es sp&eacute;cifi&eacute;.</p></div>
							<p lang="fr">Cette option est indisponible lorsque la case <span class="emphasis"><strong>Use an existing
			connection</strong></span> est coch&eacute;e.</p>
						</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Advanced
								settings</strong></span></p>
						</td><td valign="top"><p><span class="emphasis"><em>Additional JDBC
								parameters</em></span></p>
						</td><td valign="top"><p>Sp&eacute;cifiez des informations suppl&eacute;mentaires de
								connexion &agrave; la base de donn&eacute;es cr&eacute;&eacute;e. Cette option est disponible
								lorsque la case <span class="emphasis"><strong>Use an existing
									connection</strong></span> est d&eacute;coch&eacute;e dans les <span class="emphasis"><strong>Basic settings</strong></span>.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Propagate QUERY&#8217;s
								recordset</em></span></p>
						</td><td valign="top"><p>Cochez cette case pour ins&eacute;rer les r&eacute;sultats de la
								requ&ecirc;te dans une colonne du flux en cours. S&eacute;lectionnez cette
								colonne dans la liste <span class="emphasis"><strong>use column</strong></span>.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Cette option permet au composant d'avoir un sch&eacute;ma
										diff&eacute;rent de celui du composant pr&eacute;c&eacute;dent. De plus, la
										colonne contenant le r&eacute;sultat de la requ&ecirc;te doit &ecirc;tre de
										type <span class="emphasis"><em>Object</em></span>. Ce composant
										est g&eacute;n&eacute;ralement suivi du <span class="emphasis"><strong>tParseRecordSet</strong></span>.</p></div>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Use PreparedStatement</em></span></p>
						</td><td valign="top"><p>Cochez cette case pour utiliser une instance
								PreparedStatement afin de requ&ecirc;ter votre base de donn&eacute;es. Dans le
								tableau <span class="emphasis"><strong>Set PreparedStatement
									Parameter</strong></span>, d&eacute;finissez les valeurs des param&egrave;tres
								repr&eacute;sent&eacute;s par des &#8220;?&#8221; dans l&#8217;instruction SQL d&eacute;finie dans le champ
									<span class="emphasis"><strong>Query</strong></span> de l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span>.</p><p><span class="emphasis"><strong>Parameter Index</strong></span>&nbsp;: Saisissez la position
								du param&egrave;tre dans l&#8217;instruction SQL.</p><p><span class="emphasis"><strong>Parameter Type</strong></span>&nbsp;: Saisissez le type du
								param&egrave;tre.</p><p><span class="emphasis"><strong>Parameter
									Value</strong></span>&nbsp;: Saisissez la valeur du
								param&egrave;tre.</p><p>Cette option est tr&egrave;s utile si vous devez
								effectuer de nombreuses fois la m&ecirc;me requ&ecirc;te. Elle permet un gain de
								performance.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>Commit every</em></span></p>
						</td><td valign="top"><p>Nombre de lignes &agrave; inclure dans le lot avant de
								commencer l&#8217;&eacute;criture dans la base. Cette option garantit la qualit&eacute;
								de la transaction (cependant pas de rollback) et surtout une
								meilleure performance d&#8217;ex&eacute;cution.</p>
						</td></tr><tr><td><p>&nbsp;</p>
						</td><td valign="top"><p><span class="emphasis"><em>tStatCatcher
								Statistics</em></span></p>
						</td><td valign="top"><p>Cochez cette case pour collecter les donn&eacute;es de
								log au niveau du composant.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Dynamic settings</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p lang="fr">Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter une ligne &agrave; la table.
		Dans le champ <span class="emphasis"><strong>Code</strong></span>, saisissez une variable de contexte afin
		de s&eacute;lectionner dynamiquement votre connexion &agrave; la base de donn&eacute;es parmi celles pr&eacute;vues dans
		votre Job. Cette fonctionnalit&eacute; est utile si vous devez acc&eacute;der &agrave; plusieurs tables de bases
		de donn&eacute;es ayant la m&ecirc;me structure mais se trouvant dans diff&eacute;rentes bases de donn&eacute;es, en
		particulier lorsque vous travaillez dans un environnement dans lequel vous ne pouvez pas
		changer les param&egrave;tres de votre Job, par exemple lorsque votre Job doit &ecirc;tre d&eacute;ploy&eacute; et
		ex&eacute;cut&eacute; dans un Studio <span class="emphasis"><strong>Talend</strong></span> ind&eacute;pendant.</p>
							<p lang="fr">La table <span class="emphasis"><strong>Dynamic settings</strong></span> n'est disponible que si la case
			<span class="emphasis"><strong>Use an existing connection</strong></span> est coch&eacute;e dans la vue
			<span class="emphasis"><strong>Basic settings</strong></span>. Lorsqu'un param&egrave;tre dynamique est
		configur&eacute;, la liste <span class="emphasis"><strong>Component List</strong></span> devient inaccessible
		dans la vue <span class="emphasis"><strong>Basic settings</strong></span>. </p>
							<p lang="fr">Pour plus d'informations concernant les <span class="emphasis"><strong>Dynamic settings</strong></span>
		et les variables de contexte, consultez le <span class="emphasis"><em>Guide utilisateur Talend Open Studio</em></span>.</p>
						</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Utilisation</strong></span></p>
						</td><td colspan="2" valign="top"><p>Ce composant offre la
								flexibilit&eacute; des requ&ecirc;tes sur les bases de donn&eacute;es et couvre toutes
								les possibilit&eacute;s de requ&ecirc;tes SQL.</p>
						</td></tr></tbody></table></div><p>&nbsp;</p></div><div class="section" title="Sc&eacute;nario&nbsp;1&nbsp;: Supprimer et re-g&eacute;n&eacute;rer un index de table MySQL"><div class="titlepage"><div><div><h3 class="title"><a name="Raa11099"></a>Sc&eacute;nario&nbsp;1&nbsp;: Supprimer et re-g&eacute;n&eacute;rer un index de table MySQL</h3></div></div></div><p>Le sc&eacute;nario suivant cr&eacute;e un Job &agrave; quatre composants permettant de supprimer un index
			de table, effectuer un Insert dans cette table avant de re-g&eacute;n&eacute;rer l&#8217;index.</p><div class="section" title="Relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e94799"></a>Relier les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>S&eacute;lectionnez les composants suivants dans la <span class="emphasis"><strong>Palette</strong></span> et d&eacute;posez-le dans l&#8217;espace de mod&eacute;lisation&nbsp;: deux
							<span class="emphasis"><strong>tMysqlRow</strong></span>, un <span class="emphasis"><strong>tRowGenerator</strong></span>et un <span class="emphasis"><strong>tMysqlOutput</strong></span>.</p></li><li class="step" title="&Eacute;tape 2"><p>Connectez le premier composant <span class="emphasis"><strong>tMysqlRow</strong></span>
						au <span class="emphasis"><strong>tRowGenerator</strong></span> &agrave; l'aide d'un lien
							<span class="emphasis"><strong>OnComponentOk</strong></span>.</p></li><li class="step" title="&Eacute;tape 3"><p>Reliez le <span class="emphasis"><strong>tRowGenerator</strong></span> au <span class="emphasis"><strong>tMysqlOutput</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Connectez le composant <span class="emphasis"><strong>tRowGenerator</strong></span> au
						second composant <span class="emphasis"><strong>tMysqlRow</strong></span> &agrave; l&#8217;aide d&#8217;une
						connexion <span class="emphasis"><strong>OnSubjobOk</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow.png"></div></li></ol></div></div><div class="section" title="Configurer les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e94860"></a>Configurer les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>S&eacute;lectionnez le composant <span class="emphasis"><strong>tMysqlRow</strong></span> et
						renseignez les propri&eacute;t&eacute;s de la base de donn&eacute;es dans l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span>.</p></li><li class="step" title="&Eacute;tape 2"><p>Dans les champs <span class="emphasis"><strong>Property type
						</strong></span>et <span class="emphasis"><strong>Schema</strong></span>, s&eacute;lectionnez la base
						de donn&eacute;es appropri&eacute;e dans la liste.</p><p>Les d&eacute;tails de connexion &agrave; la base de donn&eacute;es ainsi
						que le sch&eacute;ma de la table sont renseign&eacute;s automatiquement.</p></li><li class="step" title="&Eacute;tape 3"></li><li class="step" title="&Eacute;tape 4"><p>Propagez les informations de propri&eacute;t&eacute;s et de sch&eacute;ma aux autres composants
						du Job.</p><p>La requ&ecirc;te &eacute;tant conserv&eacute;e dans les <span class="emphasis"><strong>Metadata</strong></span> du Repository, vous pouvez &eacute;galement
						s&eacute;lectionner <span class="emphasis"><strong>Repository</strong></span> dans le champ
							<span class="emphasis"><strong>Query type</strong></span> et cliquer sur la requ&ecirc;te
						correspondante.</p></li><li class="step" title="&Eacute;tape 5"><p><span>Si vous ne conservez pas vos requ&ecirc;tes dans
							le <span class="emphasis"><strong>Repository</strong></span>,
							saisissez</span> la
						d&eacute;claration SQL suivante&nbsp;: <span class="emphasis"><em>drop index &lt;index_name&gt; on
							&lt;table_name&gt;</em></span>
					</p></li><li class="step" title="&Eacute;tape 6"><p>S&eacute;lectionnez le deuxi&egrave;me composant <span class="emphasis"><strong>tMysqlRow</strong></span>, v&eacute;rifiez ses propri&eacute;t&eacute;s et son sch&eacute;ma.</p></li><li class="step" title="&Eacute;tape 7"><p>Puis saisissez la d&eacute;claration SQL permettant de recr&eacute;er un index &agrave; l&#8217;aide
						de la formulation suivante&nbsp;: <span class="emphasis"><em>create index &lt;index_name&gt; on
							&lt;table_name&gt; (&lt;column_name&gt;); </em></span></p><p>Le composant <span class="emphasis"><strong>tRowGenerator</strong></span> permet de
						g&eacute;n&eacute;rer automatiquement les colonnes &agrave; ajouter &agrave; la table de sortie
						d&eacute;finie.</p></li><li class="step" title="&Eacute;tape 8"><p>S&eacute;lectionnez le composant <span class="emphasis"><strong>tMysqlOutput</strong></span> et
						renseignez les propri&eacute;t&eacute;s de connexion &agrave; la base de donn&eacute;es<span> soit &agrave; partir du Repository ou manuellement si
							les informations de connexion ne sont utilis&eacute;es que pour ce
						Job</span>. La table &agrave; alimenter a pour nom&nbsp;:
							<span class="emphasis"><em>comprehensive</em></span>.</p></li><li class="step" title="&Eacute;tape 9"><p>Le sch&eacute;ma est automatiquement h&eacute;rit&eacute; du flux de donn&eacute;es du <span class="emphasis"><strong>tLogRow</strong></span>. Editez le sch&eacute;ma et v&eacute;rifiez que sa
						structure correspond au sch&eacute;ma attendu par la table de base de donn&eacute;es
						sp&eacute;cifi&eacute;e.</p><p>Dans le champ <span class="emphasis"><strong>Action on table</strong></span>,
						s&eacute;lectionnez <span class="emphasis"><em>None</em></span> et dans le champ <span class="emphasis"><strong>Action on data</strong></span>, s&eacute;lectionnez
							<span class="emphasis"><em>Insert</em></span>.</p><p>Aucune colonne suppl&eacute;mentaire n&#8217;est requise pour ce Job.</p></li></ol></div></div><div class="section" title="Ex&eacute;cuter le Job"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e94960"></a>Ex&eacute;cuter le Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Appuyez sur les touches <span class="emphasis"><strong>Ctrl+S</strong></span> pour
						sauvegardez le Job.</p></li><li class="step" title="&Eacute;tape 2"><p>Appuyez sur <span class="emphasis"><strong>F6</strong></span> pour ex&eacute;cuter ce
						Job.</p><p>Si vous avez la possibilit&eacute; d&#8217;observer l&#8217;action sur la base de donn&eacute;es,
						remarquez que l&#8217;index a &eacute;t&eacute; supprim&eacute; en d&eacute;but de Job puis recr&eacute;&eacute; &agrave; la fin de
						l&#8217;action d&#8217;Insert.</p><p>Voir &eacute;galement <a class="xref" href="tDBSQLRow.html" title="tDBSQLRow">la section intitul&eacute;e &laquo;&nbsp;tDBSQLRow&nbsp;&raquo;</a>.</p></li></ol></div></div></div><div class="section" title="Sc&eacute;nario&nbsp;2&nbsp;: Utiliser l&#8217;instance PreparedStatement pour faire une requ&ecirc;te sur des donn&eacute;es"><div class="titlepage"><div><div><h3 class="title"><a name="Raa48944"></a>Sc&eacute;nario&nbsp;2&nbsp;: Utiliser l&#8217;instance PreparedStatement pour faire une requ&ecirc;te sur des
			donn&eacute;es</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job &agrave; quatre composants permettant de lier la colonne
			d&#8217;une table &agrave; un fichier clients. En effet, la table MySQL contient la liste de tous les
			Etats am&eacute;ricains avec leur identifiant, et le fichier contient des informations sur vos
			clients avec l&#8217;identifiant de l&#8217;&eacute;tat dans lequel ils r&eacute;sident. L&#8217;objectif de ce sc&eacute;nario
			est de r&eacute;cup&eacute;rer le nom de l&#8217;Etat pour chaque client &agrave; l&#8217;aide d&#8217;une requ&ecirc;te SQL. Afin de
			traiter un grand nombre de donn&eacute;es plus rapidement, utilisez l'objet PreparedStatement
			permettant de n&#8217;ex&eacute;cuter qu&#8217;une seule fois la requ&ecirc;te au lieu de l&#8217;effectuer &agrave; chaque
			ligne. Chaque ligne de donn&eacute;es est envoy&eacute;e comme param&egrave;tre. Un objet PreparedStatement
			peut &eacute;galement &ecirc;tre utilis&eacute; pour &eacute;viter une injection SQL.</p><p>Pour ce sc&eacute;nario, utilisez un fichier et une base de donn&eacute;es dont vous avez
			pr&eacute;alablement stock&eacute; la connexion et les propri&eacute;t&eacute;s dans des m&eacute;tadonn&eacute;es dans le
				<span class="emphasis"><strong>Repository</strong></span>.<span>Pour plus
				d&#8217;informations concernant la cr&eacute;ation de m&eacute;tadonn&eacute;es de fichiers d&eacute;limit&eacute;s, la
				cr&eacute;ation de m&eacute;tadonn&eacute;es de connexion &agrave; une base de donn&eacute;es et l&#8217;utilisation de ces
				m&eacute;tadonn&eacute;es, consultez le <span class="emphasis"><em>Guide utilisateur de
					</em></span><span class="emphasis"><em>Talend Open Studio</em></span>.</span>
		</p><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir du <span class="emphasis"><strong>Repository</strong></span>, d&eacute;veloppez le n&#339;ud
						<span class="emphasis"><strong>Metadata</strong></span> et <span class="emphasis"><strong>File
						delimited</strong></span></p></li><li class="listitem"><p>S&eacute;lectionnez la m&eacute;tadonn&eacute;e correspondant au fichier clients que vous souhaitez
					utiliser dans ce Job. Ici, vous utilisez la m&eacute;tadonn&eacute;e
						<span class="emphasis"><em>customers</em></span>.</p></li><li class="listitem"><p>Glissez cette m&eacute;tadonn&eacute;e dans l&#8217;espace de mod&eacute;lisation et double-cliquez sur
						<span class="emphasis"><strong>tFileInputDelimited</strong></span> dans la bo&icirc;te de
					dialogue <span class="emphasis"><strong>Components</strong></span> afin de cr&eacute;er un composant
						<span class="emphasis"><strong>tFileInputDelimited</strong></span> d&eacute;j&agrave; param&eacute;tr&eacute;.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="emphasis"><strong>Schema</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>Built-in</strong></span> afin de modifier le sch&eacute;ma de votre
					composant. Puis, cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> &agrave;
					c&ocirc;t&eacute; du champ <span class="emphasis"><strong>Edit schema</strong></span> pour ajouter la
					colonne dans laquelle ins&eacute;rer le nom de l&#8217;Etat.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter une
					colonne au sch&eacute;ma. Renommez cette colonne
						<span class="emphasis"><em>LabelStateRecordSet</em></span>, et elle est de type objet, donc
					s&eacute;lectionnez <span class="emphasis"><strong>Object</strong></span> dans la liste <span class="emphasis"><strong>Type</strong></span>. Cliquez sur <span class="emphasis"><strong>OK</strong></span>
					pour enregistrer vos modifications.</p></li><li class="listitem"><p>A partir de la <span class="emphasis"><strong>Palette</strong></span>, s&eacute;lectionnez les
					composants <span class="emphasis"><strong>tMysqlRow</strong></span>, <span class="emphasis"><strong>tParseRecordSet</strong></span> et <span class="emphasis"><strong>tFileOutputDelimited</strong></span> et glissez-les dans l&#8217;espace de
					mod&eacute;lisation.</p></li><li class="listitem"><p>Reliez les quatre composants via des liens de type <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tMysqlRow</strong></span>
					pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet <span class="emphasis"><strong>Basic
						settings</strong></span> de la vue <span class="emphasis"><strong>Component</strong></span>.
				</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="emphasis"><strong>Property Type</strong></span>, s&eacute;lectionnez
						<span class="emphasis"><strong>Repository</strong></span> et cliquez sur le bouton
						<span class="emphasis"><strong>[...]</strong></span> pour s&eacute;lectionner la connexion &agrave; la
					base de donn&eacute;es centralis&eacute;e dans les m&eacute;tadonn&eacute;es du Repository. Les champs
						<span class="emphasis"><strong>DB Version</strong></span>, <span class="emphasis"><strong>Host</strong></span>, <span class="emphasis"><strong>Port</strong></span>, <span class="emphasis"><strong>Database</strong></span>, <span class="emphasis"><strong>Username</strong></span>
					et <span class="emphasis"><strong>Password</strong></span> sont renseign&eacute;s automatiquement. Si
					vous &ecirc;tes en mode <span class="emphasis"><strong>Built-in</strong></span>, renseignez ces
					champs manuellement.</p></li><li class="listitem"><p>Dans la liste <span class="emphasis"><strong>Schema</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>Built-in</strong></span> pour param&eacute;trer le sch&eacute;ma manuellement et
					ajouter la colonne <span class="emphasis"><em>LabelStateRecordSet</em></span>, ou cliquez
					directement sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
					r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent.</p></li><li class="listitem"><p>Dans le champ <span class="emphasis"><strong>Query</strong></span>, saisissez la requ&ecirc;te SQL
					&agrave; utiliser. Ici, vous souhaitez r&eacute;cup&eacute;rer les noms des Etats am&eacute;ricains contenus
					dans la colonne <span class="emphasis"><em>LabelState</em></span> de la table MySQL
						<span class="emphasis"><em>us_state</em></span>&nbsp;: <code class="code">"SELECT LabelState FROM us_state WHERE
						idState=?"</code>. Le point d&#8217;interrogation &#8220;<code class="code">?</code>&#8221; repr&eacute;sente le
					param&egrave;tre &agrave; d&eacute;finir dans l&#8217;onglet <span class="emphasis"><strong>Advanced
						settings</strong></span>.</p></li><li class="listitem"><p>Cliquez sur l&#8217;onglet <span class="emphasis"><strong>Advanced settings</strong></span> pour
					param&eacute;trer les propri&eacute;t&eacute;s avanc&eacute;es du composant. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cochez la case <span class="emphasis"><strong>Propagate QUERY&#8217;s recordset</strong></span> et
					s&eacute;lectionnez la colonne <span class="emphasis"><em>LabelStateRecordSet</em></span> dans la liste
						<span class="emphasis"><strong>use column</strong></span> pour ins&eacute;rer le r&eacute;sultat de la
					requ&ecirc;te dans cette colonne.</p></li><li class="listitem"><p>Cochez la case <span class="emphasis"><strong>Use PreparedStatement</strong></span> et
					d&eacute;finissez le param&egrave;tre utilis&eacute; dans la requ&ecirc;te dans le tableau <span class="emphasis"><strong>Set PreparedStatement Parameters</strong></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter un
					param&egrave;tre. </p></li><li class="listitem"><p>Dans la cellule <span class="emphasis"><strong>Parameter Index</strong></span>, saisissez la
					position du param&egrave;tre dans l&#8217;instruction SQL. Saisissez &#8220;<span class="emphasis"><em>1</em></span>&#8221;
					&eacute;tant donn&eacute; que vous n&#8217;utilisez qu&#8217;un seul param&egrave;tre dans l&#8217;exemple. </p></li><li class="listitem"><p>Dans la cellule <span class="emphasis"><strong>Parameter Type</strong></span>, saisissez le
					type du param&egrave;tre. Ici, le param&egrave;tre est de type entier, donc s&eacute;lectionnez
						<span class="emphasis"><strong>Int</strong></span> dans la liste.</p></li><li class="listitem"><p>Dans la cellule <span class="emphasis"><strong>Parameter Value</strong></span>, saisissez la
					valeur du param&egrave;tre. Ici, vous souhaitez r&eacute;cup&eacute;rer le nom de l&#8217;Etat en fonction
					de leur ID pour chaque client du fichier d&#8217;entr&eacute;e, saisissez donc
							&#8220;<code class="code"><span>row1.idState</span>&#8221;.</code></p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tParseRecordSet</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet
						<span class="emphasis"><strong>Basic settings</strong></span> de la vue <span class="emphasis"><strong>Component</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="emphasis"><strong>Prev. Comp. Column list</strong></span>,
					s&eacute;lectionnez la colonne du composant pr&eacute;c&eacute;dent &agrave; analyser. Dans cet exemple,
					s&eacute;lectionnez la colonne <span class="emphasis"><em>LabelStateRecordSet</em></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
					r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent et le tableau <span class="emphasis"><strong>Attribute table</strong></span> est automatiquement renseign&eacute; avec les colonnes
					du sch&eacute;ma.</p></li><li class="listitem"><p>Dans le tableau <span class="emphasis"><strong>Attribute table</strong></span>, dans le
					champ <span class="emphasis"><strong>Value</strong></span> correspondant &agrave; la colonne
						<span class="emphasis"><em>LabelStateRecordSet</em></span>, saisissez entre guillemets le nom
					de la colonne contenant le nom des Etats &agrave; r&eacute;cup&eacute;rer et &agrave; mettre en
					correspondance avec chaque client. Dans cet exemple, saisissez
						&#8220;<span class="emphasis"><em>LabelState</em></span>&#8221;.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tFileOutputDelimited</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans
					l&#8217;onglet <span class="emphasis"><strong>Basic settings</strong></span> de la vue <span class="emphasis"><strong>Component</strong></span>. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span>, renseignez le chemin
					d&#8217;acc&egrave;s et le nom du fichier de sortie.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="emphasis"><strong>Sync columns</strong></span> pour
					r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent.</p></li><li class="listitem"><p>Enregistrez votre Job et appuyez sur <span class="emphasis"><strong>F6</strong></span> pour
					l&#8217;ex&eacute;cuter. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMySQLRow2_8.png"></div><p>Une colonne contenant le nom de l&#8217;Etat am&eacute;ricain correspondant &agrave; chaque client a &eacute;t&eacute;
			ajout&eacute;e au fichier.</p></div><div class="section" title="Sc&eacute;nario 3 : Combiner deux flux pour une sortie s&eacute;lective"><div class="titlepage"><div><div><h3 class="title"><a name="andy-20121018-database-tmysqlrow-combining_two_flows_for_selective_output"></a>Sc&eacute;nario 3 : Combiner deux flux pour une sortie s&eacute;lective</h3></div></div></div><p>Dans ce sc&eacute;nario, un flux g&eacute;n&eacute;r&eacute; par un <span class="emphasis"><strong>tFixedFlowInput</strong></span> est combin&eacute; avec un flux de la base de donn&eacute;es MySQL. Le
			flux source contient les champs <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>age</em></span> alors que la table MySQL contient <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span>. Vous allez
			r&eacute;cup&eacute;rer les donn&eacute;es <span class="emphasis"><em>age</em></span> du flux source et les
			combiner avec les enregistrements <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span> de la table MySQL &agrave; partir de la mise en
			correspondance avec <span class="emphasis"><em>id</em></span>. Le sch&eacute;ma d'entr&eacute;e est
			diff&eacute;rent de celui de sortie, dans le <span class="emphasis"><strong>tMysqlRow</strong></span>.</p><div class="section" title="Relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e95372"></a>Relier les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>D&eacute;posez un <span class="emphasis"><strong>tFixedFlowInput</strong></span>, un <span class="emphasis"><strong>tMysqlRow</strong></span>, un <span class="emphasis"><strong>tParseRecordSet</strong></span> et un <span class="emphasis"><strong>tLogRow</strong></span> de la <span class="emphasis"><strong>Palette</strong></span> dans
						l'espace de mod&eacute;lisation graphique.</p></li><li class="step" title="&Eacute;tape 2"><p>Renommez le <span class="emphasis"><strong>tFixedFlowInput</strong></span> en <span class="emphasis"><strong>source_flow</strong></span>, le <span class="emphasis"><strong>tMysqlRow</strong></span> en <span class="emphasis"><strong>insert_recordset</strong></span>, le <span class="emphasis"><strong>tParseRecordSet</strong></span> en <span class="emphasis"><strong>parse_recordset</strong></span> et le <span class="emphasis"><strong>tLogRow</strong></span> en <span class="emphasis"><strong>show_combined_flow</strong></span>.</p></li><li class="step" title="&Eacute;tape 3"><p>Reliez le <span class="emphasis"><strong>tFixedFlowInput</strong></span> au <span class="emphasis"><strong>tMysqlRow</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Reliez le <span class="emphasis"><strong>tMysqlRow</strong></span> au <span class="emphasis"><strong>tParseRecordSet</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>.</p></li><li class="step" title="&Eacute;tape 5"><p>Connectez le <span class="emphasis"><strong>tParseRecordSet</strong></span> au <span class="emphasis"><strong>tLogRow</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_1.png"></div></li></ol></div></div><div class="section" title="Configurer les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e95469"></a>Configurer les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le <span class="emphasis"><strong>tFixedFlowInput</strong></span>
						pour ouvrir sa vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_2.png"></div></li><li class="step" title="&Eacute;tape 2"><p>S&eacute;lectionnez l'option <span class="emphasis"><strong>Use Inline Content (delimited
							file)</strong></span> dans la zone <span class="emphasis"><strong>Mode</strong></span>.</p><p>Dans le champ <span class="emphasis"><strong>Content</strong></span>, saisissez les
						donn&eacute;es &agrave; transf&eacute;rer :</p><pre class="programlisting">1;30
2;20</pre></li><li class="step" title="&Eacute;tape 3"><p>Double-cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute;
						du champ <span class="emphasis"><strong>Edit schema</strong></span> pour ouvrir l'&eacute;diteur
						du sch&eacute;ma. </p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_3.png"></div><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter
						deux colonnes, nomm&eacute;es <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>age</em></span>, de type <span class="emphasis"><em>Integer</em></span>.</p><p>Cliquez sur <span class="emphasis"><strong>OK</strong></span> pour fermer
						l'&eacute;diteur.</p></li><li class="step" title="&Eacute;tape 4"><p>Double-cliquez sur le <span class="emphasis"><strong>tMysqlRow</strong></span> pour
						ouvrir sa vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_4.png"></div></li><li class="step" title="&Eacute;tape 5"><p>Dans les champs <span class="emphasis"><strong>Host</strong></span> et <span class="emphasis"><strong>Port</strong></span>, saisissez les informations de
						connexion.</p><p>Dans le champ <span class="emphasis"><strong>Database</strong></span>, saisissez le nom
						de la base de donn&eacute;es.</p><p>Dans les champs <span class="emphasis"><strong>Username</strong></span> et <span class="emphasis"><strong>Password</strong></span>, saisissez les informations
						d'authentification.</p><p>Dans le champ <span class="emphasis"><strong>Query</strong></span>, saisissez la requ&ecirc;te
						SQL permettant de r&eacute;cup&eacute;rer les donn&eacute;es de <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span> dans la table
						MySQL <span class="emphasis"><em>employee</em></span> : <code class="code">"select id, name
							from employee WHERE id=?"</code>. </p><p>Le point d'interrogation, &#8220;<code class="code">?</code>&#8221; repr&eacute;sente le param&egrave;tre &agrave;
						configurer l'onglet <span class="emphasis"><strong>Advanced
						settings</strong></span>.</p></li><li class="step" title="&Eacute;tape 6"><p>Cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du
						champ <span class="emphasis"><strong>Edit schema</strong></span> pour ouvrir l'&eacute;diteur du
						sch&eacute;ma.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_5.png"></div></li><li class="step" title="&Eacute;tape 7"><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter
						deux colonnes, &agrave; droite, nomm&eacute;es <span class="emphasis"><em>recordset</em></span> et <span class="emphasis"><em>age</em></span>, de type
							<span class="emphasis"><em>Object</em></span> et <span class="emphasis"><em>Integer</em></span>. Notez que <span class="emphasis"><em>recordset</em></span> doit contenir les r&eacute;sultats de la requ&ecirc;te de la
						table MySQL, c'est-&agrave;-dire les champs <span class="emphasis"><em>id</em></span>
						et <span class="emphasis"><em>name</em></span>.</p><p>Cliquez sur <span class="emphasis"><strong>OK</strong></span> pour fermer
						l'&eacute;diteur.</p></li><li class="step" title="&Eacute;tape 8"><p>Cliquez sur l'onglet <span class="emphasis"><strong>Advanced settings</strong></span>
						afin de configurer les param&egrave;tres avanc&eacute;s.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_6.png"></div></li><li class="step" title="&Eacute;tape 9"><p>Cochez la case <span class="emphasis"><strong>Propagate QUERY's
							recordset</strong></span> et s&eacute;lectionnez <span class="emphasis"><em>recordset</em></span> dans la liste <span class="emphasis"><strong>use
							column</strong></span> afin d'ins&eacute;rer les r&eacute;sultats de la requ&ecirc;te dans cette
						colonne.</p><p>Cochez la case <span class="emphasis"><strong>Use PreparedStatement</strong></span> et
						d&eacute;finissez les param&egrave;tres utilis&eacute;s dans la requ&ecirc;te, dans la table <span class="emphasis"><strong>Set PreparedStatement Parameters</strong></span>.</p></li><li class="step" title="&Eacute;tape 10"><p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour ajouter
						une ligne. </p><p>Dans la cellule <span class="emphasis"><strong>Parameter Index</strong></span>,
						saisissez la position du param&egrave;tre dans l'instruction SQL. Saisissez
							&#8220;<span class="emphasis"><em>1</em></span>&#8221; puisque vous utilisez un param&egrave;tre dans cet
						exemple. </p><p>Dans la cellule <span class="emphasis"><strong>Parameter Type</strong></span>, saisissez
						le type de param&egrave;tre. Le param&egrave;tre est de type <span class="emphasis"><em>Integer</em></span>. S&eacute;lectionnez <span class="emphasis"><strong>Int</strong></span>
						dans la liste.</p><p>Dans la cellule <span class="emphasis"><strong>Parameter Value</strong></span>,
						saisissez la valeur du param&egrave;tre. Ici, vous allez r&eacute;cup&eacute;rer les colonnes
							<span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span> de la table <span class="emphasis"><em>employee</em></span>
						selon la valeur de <span class="emphasis"><em>id</em></span> du flux source.
						Saisissez <span class="emphasis"><em>row3.id</em></span>.</p></li><li class="step" title="&Eacute;tape 11"><p>Double-cliquez sur le composant <span class="emphasis"><strong>tParseRecordSet</strong></span> pour ouvrir sa vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_7.png"></div><p>Dans la liste <span class="emphasis"><strong>Prev. Comp. Column list</strong></span>,
						s&eacute;lectionnez la colonne &agrave; analyser, <span class="emphasis"><em>recordset</em></span>.</p></li><li class="step" title="&Eacute;tape 12"><p>Cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du
						champ <span class="emphasis"><strong>Edit schema</strong></span> pour ouvrir l'&eacute;diteur du
						sch&eacute;ma.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_8.png"></div><p>Cliquez trois fois sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour
						ajouter trois colonnes, &agrave; droite, nomm&eacute;es <span class="emphasis"><em>id</em></span>, <span class="emphasis"><em>name</em></span> et <span class="emphasis"><em>age</em></span>, respectivement de type <span class="emphasis"><em>Integer</em></span>, <span class="emphasis"><em>String</em></span> et <span class="emphasis"><em>Integer</em></span>. Les
						colonnes <span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span> doivent contenir les donn&eacute;es analys&eacute;es de <span class="emphasis"><em>recordset</em></span>.</p><p>Cliquez sur <span class="emphasis"><strong>OK</strong></span> pour fermer
						l'&eacute;diteur.</p><p>Dans la table <span class="emphasis"><strong>Attribute table</strong></span>, dans les
						champs <span class="emphasis"><strong>Value</strong></span> correspondants aux colonnes
							<span class="emphasis"><em>id</em></span> et <span class="emphasis"><em>name</em></span>, saisissez le nom des colonnes de la table MySQL &agrave;
						r&eacute;cup&eacute;rer, <span class="emphasis"><em>"id"</em></span> et <span class="emphasis"><em>"name"</em></span>.</p></li><li class="step" title="&Eacute;tape 13"><p>Double-cliquez sur le <span class="emphasis"><strong>tLogRow</strong></span> pour ouvrir
						sa vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_9.png"></div><p>Dans la zone <span class="emphasis"><strong>Mode</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>Table (print values in cells of a table)</strong></span> pour un
						affichage sous forme de tableau.</p></li></ol></div></div><div class="section" title="Ex&eacute;cuter le Job"><div class="titlepage"><div><div><h4 class="title"><a name="d43281e95818"></a>Ex&eacute;cuter le Job </h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Appuyez sur les touches <span class="emphasis"><strong>Ctrl+S</strong></span> pour
						sauvegarder votre Job.</p></li><li class="step" title="&Eacute;tape 2"><p>Appuyez sur <span class="emphasis"><strong>F6</strong></span> pour ex&eacute;cuter le
						Job.</p><div class="mediaobject"><img src="../images/use_case_tmysqlrow3_10.png"></div></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tMysqlRollback.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-databases-traditional.html">Niveau sup&eacute;rieur</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tMysqlSP.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">tMysqlRollback&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-components-rg-fr..html">Sommaire</a></td><td width="40%" align="right" valign="top">&nbsp;tMysqlSP</td></tr></table></div></body></html>