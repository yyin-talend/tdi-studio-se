<%@ jet
imports="
    org.talend.core.model.process.INode 
    org.talend.core.model.process.ElementParameterParser
    org.talend.designer.codegen.config.CodeGeneratorArgument
"
%>

<%
        CodeGeneratorArgument codeGenArgument = (CodeGeneratorArgument) argument;
        INode node = (INode)codeGenArgument.getArgument();
        String cid = node.getUniqueName();      

        String remotedir = ElementParameterParser.getValue(node, "__REMOTEDIR__");
%>
	try{
        if(destFile_<%=cid %>!=null && destFile_<%=cid %>.length()!=0){
            scp_<%=cid%>.put(new byte[]{}, destFile_<%=cid %> , <%=remotedir %>, "0644");
            nb_file_<%=cid%> ++;
            globalMap.put("<%=cid %>_STATUS", "File truncate OK.");
        }
    }catch(Exception e){
    		globalMap.put("<%=cid %>_STATUS", "File truncate fail.");
    }